# Kernel SHAP explanation for SVM models

Note

To enable SHAP support, you may need to run

```bash
pip install alibi[shap]
```

```python
# shap.summary_plot currently doesn't work with matplotlib>=3.6.0,
# see bug report: https://github.com/slundberg/shap/issues/2687
!pip install matplotlib==3.5.3
```

## Introduction

In this example, we show how to explain a multi-class classification model based on the SVM algorithm using the `KernelSHAP` method. We show how to perform instance-level (or _local_) explanations on this model as well as how to draw insights about the model behaviour in general by aggregating information from explanations across many instances (that is, perform _global explanations_).

```python
import shap
shap.initjs()

import matplotlib.pyplot as plt
import numpy as np

from alibi.explainers import KernelShap
from sklearn import svm
from sklearn.datasets import load_wine
from sklearn.metrics import confusion_matrix, ConfusionMatrixDisplay
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler
from sklearn.svm import SVC
```

## Data preparation

```python
wine = load_wine()
wine.keys()
```

```
dict_keys(['data', 'target', 'frame', 'target_names', 'DESCR', 'feature_names'])
```

```python
data = wine.data
target = wine.target
target_names = wine.target_names
feature_names  = wine.feature_names
```

Split data into testing and training sets and normalize it.

```python
X_train, X_test, y_train, y_test = train_test_split(data, 
                                                    target, 
                                                    test_size=0.2, 
                                                    random_state=0,
                                                   )
print("Training records: {}".format(X_train.shape[0]))
print("Testing records: {}".format(X_test.shape[0]))
```

```
Training records: 142
Testing records: 36
```

```python
scaler = StandardScaler().fit(X_train)
X_train_norm = scaler.transform(X_train)
X_test_norm = scaler.transform(X_test)
```

## Fitting a support vector classifier (SVC) to the Wine dataset

### Training

SVM, is a binary classifier, so multiple classifiers are fitted in order to support multiclass classification. The algorithm output is explained [here](kernel_shap_wine_intro.md#ovr_definition).

```python
np.random.seed(0)
classifier = SVC(
    kernel = 'rbf', 
    C=1, 
    gamma = 0.1, 
    decision_function_shape='ovr',  # n_cls trained with data from one class as postive and remainder of data as neg
    random_state = 0, 
)
classifier.fit(X_train_norm, y_train)
```

```
SVC(C=1, gamma=0.1, random_state=0)
```

In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook.\
On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.SVC

```
SVC(C=1, gamma=0.1, random_state=0)
```

### Model assessment

Look at confusion matrix.

```python
y_pred = classifier.predict(X_test_norm)
```

```python
cm = confusion_matrix(y_test, y_pred)
```

```python
title = 'Confusion matrix for SVC classifier'
disp = ConfusionMatrixDisplay.from_estimator(classifier, 
                                             X_test_norm, 
                                             y_test,
                                             display_labels=target_names,
                                             cmap=plt.cm.Blues,
                                             normalize=None,
                                            )
disp.ax_.set_title(title);
```

![png](../../.gitbook/assets/kernel_shap_wine_intro_20_0.png)

The confusion matrix show the classifier is perfect - let's understand what patterns in the data help the SVC perform so well!

## Apply KernelSHAP to explain the model

The model needs access to a function that takes as an input samples and returns predictions to be explained. For an input $z$ the decision function of an _binary_ SVM classifier is given by:

$$
\text{class}(z) = \text{sign}(\beta z + b)
$$

where $\beta$ is the best separating hyperplane (linear combination of support vectors, the training points closest to the separating hyperplane) and $b$ is the bias of the model.

For the 'one-vs-rest' SVM, `nclass` binary SVM algorithms are fitted using each class as the positive class and the remainder as negative class. The classification decision is taken by assigning the label from the classifier with the maximum absolute decision score. Therefore, to explain our model we could consider explaining the SVM model which outputs the highest decision score. Click here to go back to [source](kernel_shap_wine_intro.md#intro).

To do so, the KernelSHAP explainer must receive a callable that returns a set of scores when called with an input $X$, in this case the `decision_function` attribute of our classifier.

```python
pred_fcn = classifier.decision_function
```

```python
np.random.seed(0)
svm_explainer = KernelShap(pred_fcn)
svm_explainer.fit(X_train_norm)
```

```
Using 142 background data samples could cause slower run times. Consider using shap.sample(data, K) or shap.kmeans(data, K) to summarize the background as K samples.





KernelShap(meta={
  'name': 'KernelShap',
  'type': ['blackbox'],
  'task': 'classification',
  'explanations': ['local', 'global'],
  'params': {
              'link': 'identity',
              'group_names': None,
              'grouped': False,
              'groups': None,
              'weights': None,
              'summarise_background': False,
              'summarise_result': None,
              'transpose': False,
              'kwargs': {}}
            ,
  'version': '0.7.1dev'}
)
```

Note that the explainer is fit to the classifier training set . This training set is used for two purposes:

* To determine the model output when all inputs are missing ($\phi\_0$ in eq. $(5)$ of [\[1\]](kernel_shap_wine_intro.md#References). Because the SVM model does not accept arbitrary inputs, this quantity is approximated by averaging the decision score for each class, across the samples in `X_train_norm` as shown below and it is stored as the `expected_value` attribute of the explainer
* The values of the features in the $N \times D$ `X_train_norm` dataset are used to replace the values missing during the feature attribution ($\phi\_i$) estimation process. Specifically, `nsamples` copies of `X_train_norm` are tiled to create a dataset where, for each copy, a subset of features $z'$ of size $s = |z'|$ are replaced by the values in the instance to be explained and the complement of this subset is left to the background dataset value. These background values simulate the effect of _missing values_, since most models cannot cope with arbitrary patterns of missing values at inference time. Therefore, when computing the shap value of a particular feature, $\phi\_i$, `nsamples` regression targets ($f(h\_x(z'))$ in eq $(5)$ of [\[1\]](kernel_shap_wine_intro.md#References)) are computed as the _expected_ prediction of the model to be explained when a given subset of features is missing as opposed to replacing the missing feature with a single value. Note that the averaging operation can be replaced by weighted averaging by specifying the `weights` argument to the `fit` method. [(a)](kernel_shap_wine_intro.md#Footnotes)

For the above reason, this is sometimes referred to as the _background dataset_; a larger dataset increases the runtime of the algorithm, so for large datasets, a subset of it should be used. An option to deal with the runtime issue while still providing meaningful values for missing values is to summarise the dataset using the `shap.kmeans` function. This function wraps the `sklearn` k-means clustering implementation, while ensuring that the clusters returned have values that are found in the training data. In addition, the samples are weighted according to the cluster sizes.

```python
# expected_values attribute stores average scores across training set for every binary SVM 
mean_scores_train = pred_fcn(X_train_norm).mean(axis=0)
# are stored in the expected value attibute of the explainer ...
print(mean_scores_train - svm_explainer.expected_value)  
```

```
[-1.11022302e-16  4.44089210e-16 -4.44089210e-16]
```

```python
svm_explanation = svm_explainer.explain(X_test_norm, l1_reg=False)
```

```
  0%|          | 0/36 [00:00<?, ?it/s]
```

In cases where the feature space has higher dimensionality, only a small fraction of the missing subsets can be enumerated for a given number of samples `nsamples`. If the the fraction of the subsets enumerated falls below a fraction (`0.2` for version `0.3.2`) and the regularisation is set to `auto`, a least angle regression with the AIC information criterion for selecting the regularisation coefficient $\alpha$ is performed in order to select features. The regularisation has no effect if the fraction is greater than this threshold and `l1_reg` is not set to `auto`. Other options for regularisations are:

* `l1_reg="num_features(10)"`: in this case, the LARS algorithm \[[2](kernel_shap_wine_intro.md#References)] is used to which 10 features to estimate the shap values for.
* `l1_reg="bic"`: in this case, the least angle regression is run with the Bayes Information Criterion
* `l1_reg=0.02`: if a float is specified, the $\ell\_1$-regularised regression coefficient is set to this value

### Local explanation

Because the SVM algorithm returns a score for each of the $3$ classes, the shap\_values are computed for each class in turn. Moreover, the attributions are computed for each data point to be explained and for each feature, resulting in a $N\_e \times D$ matrix of shap values for each classs, where $N\_e$ is the number of instances to be explained and $D$ is the number of features.

```python
print("Output type:", type(svm_explanation.shap_values))
print("Output size:", len(svm_explanation.shap_values))
print("Class output size:", svm_explanation.shap_values[0].shape)
```

```
Output type: <class 'list'>
Output size: 3
Class output size: (36, 13)
```

For a given instance, we can visualise the attributions using a force plot. Let's choose the first example in the testing set as an example.

```python
idx =  0
instance = X_test_norm[idx][None, :]
pred = classifier.predict(instance)
scores =  classifier.decision_function(instance)
class_idx = pred.item()
print("The predicted class for the X_test_norm[{}] is {}.".format(idx, *pred))
print("OVR decision function values are {}.".format(*scores))
```

```
The predicted class for the X_test_norm[0] is 0.
OVR decision function values are [ 2.24071294  0.85398239 -0.21510456].
```

We see that class $0$ is predicted because the SVM model trained with class $0$ as a positive class and classes $1$ and $2$ combined as a negative class returned the largest score.

To create this force plot, we have provided the plotting function with four inputs:

* the expected predicted score by the class-0 SVM assuming all inputs are missing. This is marked as the base value on the force plot
* the feature attributions for the instance to be explained
* the instance to be explained
* the feature names

```python
shap.force_plot(
    svm_explainer.expected_value[class_idx], 
    svm_explanation.shap_values[class_idx][idx, :] , 
    instance,  
    feature_names,
)
```

Visualization omitted, Javascript library not loaded!\
Have you run \`initjs()\` in this notebook? If this notebook was from another user you must also trust this notebook (File -> Trust notebook). If you are viewing this notebook on github the Javascript has been stripped for security. If you are using JupyterLab this error is because a JupyterLab extension has not yet been written.if (window.SHAP) SHAP.ReactDom.render( SHAP.React.createElement(SHAP.AdditiveForceVisualizer, {"outNames": \["f(x)"], "baseValue": 0.7982189373832798, "outValue": 2.2407129384665727, "link": "identity", "featureNames": \["alcohol", "malic\_acid", "ash", "alcalinity\_of\_ash", "magnesium", "total\_phenols", "flavanoids", "nonflavanoid\_phenols", "proanthocyanins", "color\_intensity", "hue", "od280/od315\_of\_diluted\_wines", "proline"], "features": {"0": {"effect": 0.1885327306588105, "value": 0.9388470699160594}, "1": {"effect": -0.011324960864740441, "value": -0.6321660679120147}, "2": {"effect": -0.0006325969519609398, "value": -0.4350103029406882}, "3": {"effect": 0.16715848382781984, "value": -0.9196956154312363}, "4": {"effect": 0.025515760199743887, "value": 1.263240410536125}, "5": {"effect": 0.12274853003536879, "value": 0.5599986330691132}, "6": {"effect": 0.24647320131344685, "value": 0.9777541576072868}, "7": {"effect": 0.10310885981103057, "value": -1.2063753302691222}, "8": {"effect": 0.05473180937163791, "value": 0.02366801917662191}, "9": {"effect": 0.040484508659951235, "value": 0.3392846951968553}, "10": {"effect": 0.04015582604829704, "value": -0.14557480491870503}, "11": {"effect": 0.21121980506529603, "value": 0.8522954133614274}, "12": {"effect": 0.2543220439085916, "value": 1.0494052626762695\}}, "plot\_cmap": "RdBu", "labelMargin": 20}), document.getElementById('iEJ715DIEHFCIUCJ9QKQD') );

The force plot depicts the contribution of each feature to the process of moving the value of the decision score from the _base value_ (estimation of the decision score if all inputs were missing) to the value predicted by the classifier. We see that all features contribute to increasing the decision score, and that the largest increases are due to the `proline` feature with a value of `1.049` and the `flavanoids` feature with a value of `0.9778`. The lengths of the bars are the corresponding feature attributions.

Similarly, below we see that the `proline` and `alcohol` features contribute the to decreasing the decision score of the SVM predicting class `1` as positive and that the `malic_acid` feature increases the decision score.

```python
shap.force_plot(
    svm_explainer.expected_value[1], 
    svm_explanation.shap_values[1][idx, :] , 
    instance,  
    feature_names,
)
```

Visualization omitted, Javascript library not loaded!\
Have you run \`initjs()\` in this notebook? If this notebook was from another user you must also trust this notebook (File -> Trust notebook). If you are viewing this notebook on github the Javascript has been stripped for security. If you are using JupyterLab this error is because a JupyterLab extension has not yet been written.if (window.SHAP) SHAP.ReactDom.render( SHAP.React.createElement(SHAP.AdditiveForceVisualizer, {"outNames": \["f(x)"], "baseValue": 1.4171025278703537, "outValue": 0.8539823861264118, "link": "identity", "featureNames": \["alcohol", "malic\_acid", "ash", "alcalinity\_of\_ash", "magnesium", "total\_phenols", "flavanoids", "nonflavanoid\_phenols", "proanthocyanins", "color\_intensity", "hue", "od280/od315\_of\_diluted\_wines", "proline"], "features": {"0": {"effect": -0.18264964205364848, "value": 0.9388470699160594}, "1": {"effect": 0.0587525385058649, "value": -0.6321660679120147}, "2": {"effect": 0.015010914822269295, "value": -0.4350103029406882}, "3": {"effect": -0.10449593014661213, "value": -0.9196956154312363}, "4": {"effect": -0.021228020126666886, "value": 1.263240410536125}, "5": {"effect": -0.042241855344956586, "value": 0.5599986330691132}, "6": {"effect": 0.0004442707399767154, "value": 0.9777541576072868}, "7": {"effect": -0.04867053587768441, "value": -1.2063753302691222}, "8": {"effect": -0.020661592822415642, "value": 0.02366801917662191}, "9": {"effect": -0.040988729300311444, "value": 0.3392846951968553}, "10": {"effect": 0.005689413661779691, "value": -0.14557480491870503}, "11": {"effect": 0.011398585324990967, "value": 0.8522954133614274}, "12": {"effect": -0.19347955912652792, "value": 1.0494052626762695\}}, "plot\_cmap": "RdBu", "labelMargin": 20}), document.getElementById('iFYF0PE6AMV4BD2F8N1FV') );

An alternative way to visualise local explanations for multi-output models is a _multioutput decision plot_. This plot can be especially useful when the number of features is large and the force plot might not be readable.

```python
def class_labels(classifier, instance, class_names=None):
    """
    Creates a set of legend labels based on the decision 
    scores of a classifier and, optionally, the class names.
    """

    decision_scores = classifier.decision_function(instance)
    
    if not class_names:
        class_names = [f'Class {i}' for i in range(decision_scores.shape[1])]
    
    for i, score in enumerate(np.nditer(decision_scores)):
        class_names[i] = class_names[i] + ' ({})'.format(round(score.item(),3))
        
    return class_names
        
```

```python
legend_labels = class_labels(classifier, instance)
```

```python
r = shap.multioutput_decision_plot(svm_explainer.expected_value.tolist(), 
                                   svm_explanation.shap_values,
                                   idx, 
                                   feature_names=feature_names, 
                                   feature_order='importance',
                                   highlight=[class_idx],
                                   legend_labels=legend_labels,
                                   return_objects=True,
                                   legend_location='lower right')    
```

![png](../../.gitbook/assets/kernel_shap_wine_intro_43_0.png)

The decision plots shows how the individual features influence contribute to the classification into each of the three classes (a _prediction path_). One sees that, for this example, the model can easily separate the three classes. It also shows, for example, that a wine with the given alcohol content is typical of class `0` (because the `alcohol` feature contributes positively to a classification of class `0` as negatively to classification in classes `1` and `2`)

Note that the feature ordering is determined by summing the shap value magnitudes corresponding to each feature across classes and then ordering the `feature_names` in descending order of cumulative magniture. The plot origin, marked by the gray vertical line, is the average base values across the classes. The dashed line represents the model prediction - in general we can highlight a particular class by passing the class index in the `highlight` list.

Suppose now that we want to analyse instance `5` but realise that the feature importances are different for this instance.

```python
idx =  5
instance = X_test_norm[idx][None, :]
pred = classifier.predict(instance)
```

```python
instance_shap = np.array(svm_explanation.shap_values)[:, idx, :]
feature_order = np.argsort(np.sum(np.abs(instance_shap),axis=0))[::-1]
feat_importance = [feature_names[i] for i in feature_order]
```

```python
print(feat_importance)
```

```
['flavanoids', 'alcalinity_of_ash', 'od280/od315_of_diluted_wines', 'alcohol', 'ash', 'total_phenols', 'proline', 'magnesium', 'proanthocyanins', 'hue', 'malic_acid', 'nonflavanoid_phenols', 'color_intensity']
```

We want to create a multi-output decision plot with the same feature order and scale. This is possible, since by passing the `return_objects=True` to the plotting function in the example above, we retrieved the feature indices and the axis limits and can reuse them to display the decision plot for instance `5` with the same feature order as above.

```python
shap.multioutput_decision_plot(svm_explainer.expected_value.tolist(), 
                               svm_explanation.shap_values,
                               idx, 
                               feature_names=feature_names, 
                               feature_order=r.feature_idx,
                               highlight=[pred.item()],
                               legend_labels=legend_labels,
                               legend_location='lower right',
                               xlim=r.xlim,
                               return_objects=False) 
```

![png](../../.gitbook/assets/kernel_shap_wine_intro_51_0.png)

### Global explanation

As shown above, the force plot allows us to understand how the individual features contribute to a classification output _given_ an instance. However, the particular explanation does not tell us about the model behaviour in general. Below, we show how such insights can be drawn.

#### Stacked force plots

The simplest way we can do this is to stack the force plot for a number of instances, which can be achieved by calling the `force_plot` function with the same arguments as before but replacing `instance` with the whole testing set, `X_test_norm`.

```python
class_idx = 0 # we explain the predicted label
shap.force_plot(
    svm_explainer.expected_value[class_idx], 
    svm_explanation.shap_values[class_idx], 
    X_test_norm,  
    feature_names,
)
```

Visualization omitted, Javascript library not loaded!\
Have you run \`initjs()\` in this notebook? If this notebook was from another user you must also trust this notebook (File -> Trust notebook). If you are viewing this notebook on github the Javascript has been stripped for security. If you are using JupyterLab this error is because a JupyterLab extension has not yet been written.if (window.SHAP) SHAP.ReactDom.render( SHAP.React.createElement(SHAP.AdditiveForceArrayVisualizer, {"outNames": \["f(x)"], "baseValue": 0.7982189373832798, "link": "identity", "featureNames": \["alcohol", "malic\_acid", "ash", "alcalinity\_of\_ash", "magnesium", "total\_phenols", "flavanoids", "nonflavanoid\_phenols", "proanthocyanins", "color\_intensity", "hue", "od280/od315\_of\_diluted\_wines", "proline"], "explanations": \[{"outValue": 2.2407129384665727, "simIndex": 25.0, "features": {"0": {"effect": 0.1885327306588105, "value": 0.9388470699160594}, "1": {"effect": -0.011324960864740441, "value": -0.6321660679120147}, "2": {"effect": -0.0006325969519609398, "value": -0.4350103029406882}, "3": {"effect": 0.16715848382781984, "value": -0.9196956154312363}, "4": {"effect": 0.025515760199743887, "value": 1.263240410536125}, "5": {"effect": 0.12274853003536879, "value": 0.5599986330691132}, "6": {"effect": 0.24647320131344685, "value": 0.9777541576072868}, "7": {"effect": 0.10310885981103057, "value": -1.2063753302691222}, "8": {"effect": 0.05473180937163791, "value": 0.02366801917662191}, "9": {"effect": 0.040484508659951235, "value": 0.3392846951968553}, "10": {"effect": 0.04015582604829704, "value": -0.14557480491870503}, "11": {"effect": 0.21121980506529603, "value": 0.8522954133614274}, "12": {"effect": 0.2543220439085916, "value": 1.0494052626762695\}}}, {"outValue": -0.2037002841196922, "simIndex": 3.0, "features": {"0": {"effect": -0.023272616785283418, "value": -0.2422633444425755}, "1": {"effect": 0.006025084240132372, "value": 0.2675791625531141}, "2": {"effect": 0.00808934629617264, "value": 0.42085936537515367}, "3": {"effect": -0.07776116915958597, "value": 0.7127641019592126}, "4": {"effect": 0.00357884333349906, "value": 0.840672358012851}, "5": {"effect": -0.13425250212117934, "value": -1.277471608385635}, "6": {"effect": -0.1206711224715975, "value": -0.6058281204667861}, "7": {"effect": 0.014611878008093715, "value": -0.9706340960055232}, "8": {"effect": -0.03211210801480169, "value": -0.5873972032015893}, "9": {"effect": -0.12110536842623026, "value": 2.426117125779962}, "10": {"effect": -0.1487163776882114, "value": -2.06608025494419}, "11": {"effect": -0.24141022936859735, "value": -1.5501703496491042}, "12": {"effect": -0.13492287934538283, "value": -0.866598582100107\}}}, {"outValue": 0.8645918444738925, "simIndex": 16.0, "features": {"0": {"effect": -0.0928415471401518, "value": -0.7644384750011292}, "1": {"effect": -0.0395618878644623, "value": -1.1180284923631842}, "2": {"effect": -0.024347275917420252, "value": -0.7699158253251476}, "3": {"effect": 0.007608409784162745, "value": -0.16176788949995627}, "4": {"effect": -0.019531572575670175, "value": -0.9200278608341236}, "5": {"effect": 0.12802434757926107, "value": 2.036537219952393}, "6": {"effect": 0.16876362566692626, "value": 1.183414193720803}, "7": {"effect": 0.06291891883135742, "value": -1.3635361531115213}, "8": {"effect": 0.03486445108020694, "value": 0.44801886805037955}, "9": {"effect": 0.010075979675596203, "value": -0.2509305376953362}, "10": {"effect": 0.036775615496994124, "value": 1.16386072918958}, "11": {"effect": 0.06975440504142971, "value": 0.3940215972958347}, "12": {"effect": -0.27613056256761725, "value": -1.0648058763873183\}}}, {"outValue": 2.2287208065028232, "simIndex": 28.0, "features": {"0": {"effect": 0.19401206913507651, "value": 0.7150577282481081}, "1": {"effect": -0.004006408713765119, "value": -0.578181354084107}, "2": {"effect": 0.028839112074459772, "value": 0.34643591595638473}, "3": {"effect": 0.02429566023590879, "value": 0.27549810622962817}, "4": {"effect": 0.031233334800930268, "value": 1.122384393028367}, "5": {"effect": 0.14743306765207487, "value": 1.150614067822425}, "6": {"effect": 0.22723367335424793, "value": 0.8543581359391771}, "7": {"effect": 0.08882122530148417, "value": -1.2849557416903217}, "8": {"effect": 0.07628522825787809, "value": 1.4325128374374974}, "9": {"effect": 0.04443941957670927, "value": 0.5079176188803388}, "10": {"effect": 0.05424097421148616, "value": 0.11631230190295178}, "11": {"effect": 0.17807610528125828, "value": 0.6162149626609701}, "12": {"effect": 0.3395984079517944, "value": 1.2476125569634808\}}}, {"outValue": 0.9282143661190523, "simIndex": 18.0, "features": {"0": {"effect": 0.004659223413696317, "value": 0.08098792685557879}, "1": {"effect": -0.05120298834809209, "value": 3.083781733908967}, "2": {"effect": -0.016451572698267136, "value": -0.8815509994533018}, "3": {"effect": -0.06645057991179823, "value": 0.5670087700493511}, "4": {"effect": -0.03727731521925662, "value": -0.9904558695880025}, "5": {"effect": 0.10764501956828412, "value": 0.5928106016665196}, "6": {"effect": 0.19249935212570524, "value": 0.7206791124653918}, "7": {"effect": 0.08270121140042144, "value": -0.49915162747832537}, "8": {"effect": 0.06901115679300707, "value": 0.6856553434196833}, "9": {"effect": 0.005592369081099419, "value": -1.0308578097314467}, "10": {"effect": -0.02003663057298838, "value": -0.9748839765206193}, "11": {"effect": 0.15390219115417428, "value": 0.7134245600082174}, "12": {"effect": -0.2945960080502129, "value": -1.1969440725787925\}}}, {"outValue": 0.9309835734699559, "simIndex": 22.0, "features": {"0": {"effect": -0.19259812282770078, "value": -1.7714905125069098}, "1": {"effect": 0.020937420121953862, "value": -0.29026288033526587}, "2": {"effect": 0.12937876575067503, "value": 3.211738718578986}, "3": {"effect": -0.2461561392099729, "value": 2.6075834167874117}, "4": {"effect": 0.05788279248812883, "value": 1.333668419290004}, "5": {"effect": 0.08150393731667815, "value": 1.5115457223938937}, "6": {"effect": 0.15500604635165327, "value": 3.2194485512446116}, "7": {"effect": -0.0075753961989177, "value": 0.8367153666820686}, "8": {"effect": 0.04352970146380253, "value": 0.44801886805037955}, "9": {"effect": 0.002843418806417586, "value": 0.4025220415781617}, "10": {"effect": 0.021191884665406474, "value": -0.10192695378176214}, "11": {"effect": 0.14834595804320905, "value": 1.5327625947921557}, "12": {"effect": -0.08152563068465729, "value": -0.9161504056719099\}}}, {"outValue": 2.235753735241953, "simIndex": 30.0, "features": {"0": {"effect": 0.16313339656836345, "value": 1.3366947884368625}, "1": {"effect": 0.03291015900321992, "value": -0.2002883572887529}, "2": {"effect": 0.05232633693388711, "value": 0.9046117865971509}, "3": {"effect": 0.1072543222238247, "value": -0.569882818847568}, "4": {"effect": 0.029472511605386886, "value": 1.474524436797762}, "5": {"effect": 0.10637827122407761, "value": 0.5599986330691132}, "6": {"effect": 0.19002150775252857, "value": 0.5767170871859305}, "7": {"effect": 0.07313786089827612, "value": -0.42057121605712566}, "8": {"effect": 0.00897746073377892, "value": -0.6043712371565396}, "9": {"effect": 0.037477942404415376, "value": 0.002018847829888673}, "10": {"effect": 0.06860934568497057, "value": 0.46549511099849483}, "11": {"effect": 0.26562141625863456, "value": 1.380004656103625}, "12": {"effect": 0.3022142665673093, "value": 1.8257171653011808\}}}, {"outValue": -0.21994536362955164, "simIndex": 2.0, "features": {"0": {"effect": -0.059293363054332526, "value": -0.776871216204904}, "1": {"effect": 0.015258455723505315, "value": 1.3112836298926638}, "2": {"effect": -0.010818322135161096, "value": 0.04874211828130903}, "3": {"effect": -0.04898371059366452, "value": 0.4212534381394896}, "4": {"effect": -0.014618688052980056, "value": -0.8495998520802446}, "5": {"effect": -0.023796633997910932, "value": 0.06781910410801958}, "6": {"effect": -0.2036115381748681, "value": -1.0582801999165212}, "7": {"effect": -0.10299422110757273, "value": 1.0724566009456677}, "8": {"effect": -0.06168383429949542, "value": -0.9608259502104959}, "9": {"effect": -0.03871543260638832, "value": 1.0981328517725306}, "10": {"effect": -0.11436925650441077, "value": -1.7168974458486472}, "11": {"effect": -0.2361691788986081, "value": -1.3974124109605732}, "12": {"effect": -0.11836857731094408, "value": -0.7344603859086327\}}}, {"outValue": 0.8180729921712563, "simIndex": 20.0, "features": {"0": {"effect": -0.11340593362691923, "value": -0.9136313694464293}, "1": {"effect": -0.004181118441896406, "value": -0.578181354084107}, "2": {"effect": -0.042119681668744996, "value": -0.9187627241626855}, "3": {"effect": 0.041988516549153226, "value": -0.16176788949995627}, "4": {"effect": -0.038899762550892794, "value": -1.4130239221112764}, "5": {"effect": -0.08002685957875057, "value": -0.9985698753076823}, "6": {"effect": 0.08323171529873902, "value": 0.08313300051349212}, "7": {"effect": 0.046687823523416674, "value": 0.05091125247007225}, "8": {"effect": 0.05403435187656977, "value": 0.040642053131571855}, "9": {"effect": 0.02812030024602255, "value": -0.6935919623644801}, "10": {"effect": 0.04884446103590251, "value": 0.20360800417683753}, "11": {"effect": 0.17648554573523578, "value": 0.8106341573554642}, "12": {"effect": -0.18090530360985901, "value": -0.7674949349565013\}}}, {"outValue": -0.21126420469507567, "simIndex": 8.0, "features": {"0": {"effect": -0.13186553693920683, "value": -1.1249879699106058}, "1": {"effect": 0.002395824781642686, "value": -0.488206831037594}, "2": {"effect": -0.01780861379294385, "value": -0.17452822997499776}, "3": {"effect": 0.0020795280493594026, "value": -0.30752322140981775}, "4": {"effect": -0.03310321501688346, "value": -1.3425959133573975}, "5": {"effect": -0.15731332320272612, "value": -1.0805997968011976}, "6": {"effect": -0.16115116648031708, "value": -0.4618660951873251}, "7": {"effect": -0.1547866846506254, "value": 1.2296174237880673}, "8": {"effect": -0.007620537098026348, "value": 0.057616087086522175}, "9": {"effect": -0.005017691832630511, "value": -1.1151742715731885}, "10": {"effect": 0.0019419542240710075, "value": 0.5527908132723806}, "11": {"effect": -0.15534906242757707, "value": -0.4392035228234249}, "12": {"effect": -0.191884617692492, "value": -0.866598582100107\}}}, {"outValue": -0.20248608355760278, "simIndex": 1.0, "features": {"0": {"effect": 0.02985578794962984, "value": 0.466402904172605}, "1": {"effect": 0.017783990767940905, "value": 0.16860718720195003}, "2": {"effect": -0.007712605612348988, "value": -0.06289305584684354}, "3": {"effect": -0.028402264550335676, "value": 0.1297427743197667}, "4": {"effect": -0.010287595546214723, "value": -0.7791718433263656}, "5": {"effect": -0.2119874083517681, "value": -1.40871948277526}, "6": {"effect": -0.3912849188329206, "value": -1.490166275754905}, "7": {"effect": -0.017390726384482025, "value": 0.05091125247007225}, "8": {"effect": -0.15602334118779093, "value": -1.6397873084085082}, "9": {"effect": -0.008385758013899292, "value": 0.2338891178946782}, "10": {"effect": -0.0919438674218932, "value": -1.105827529931448}, "11": {"effect": -0.10964451710203882, "value": -0.16146181611700483}, "12": {"effect": -0.015281796654760926, "value": 0.12443788933594985\}}}, {"outValue": -0.19231747818856226, "simIndex": 5.0, "features": {"0": {"effect": 0.04037848081302553, "value": 1.1129054467689112}, "1": {"effect": -0.03133251735186793, "value": 2.3999753587554697}, "2": {"effect": -0.008305280411134985, "value": -0.5094337523594571}, "3": {"effect": -0.021702295105018976, "value": 0.1297427743197667}, "4": {"effect": -0.024567436542784538, "value": -1.4130239221112764}, "5": {"effect": -0.1906552910363627, "value": -2.0977708233207903}, "6": {"effect": -0.22248205065521148, "value": -1.6546943046457179}, "7": {"effect": -0.03258781424063162, "value": 0.2866524867336714}, "8": {"effect": -0.09362088059887375, "value": -1.5718911725887068}, "9": {"effect": -0.0016347380478345386, "value": -0.06121849855141736}, "10": {"effect": -0.07413012656356005, "value": -1.629601743574762}, "11": {"effect": -0.2070919346699085, "value": -1.744589544343598}, "12": {"effect": -0.12280453116167844, "value": -1.0813231509112526\}}}, {"outValue": 2.245650734878156, "simIndex": 35.0, "features": {"0": {"effect": 0.18044679811303432, "value": 1.5107531652897124}, "1": {"effect": 0.008115423795964194, "value": -0.551188997170153}, "2": {"effect": 0.01743346315350347, "value": 0.3092241912470011}, "3": {"effect": 0.14812310985283927, "value": -1.2695084120149036}, "4": {"effect": 0.03374807089733556, "value": 0.840672358012851}, "5": {"effect": 0.1463170806524816, "value": 1.6591995810822213}, "6": {"effect": 0.2506975831397784, "value": 1.4816212460854012}, "7": {"effect": 0.07464080217831764, "value": -0.18482998179352647}, "8": {"effect": 0.07202455786340123, "value": 0.6177592075998823}, "9": {"effect": 0.014253903286534308, "value": 0.718708773484693}, "10": {"effect": 0.06388312310774641, "value": 0.42184725986155197}, "11": {"effect": 0.12268071915914192, "value": 0.36624742662519266}, "12": {"effect": 0.3150671622947978, "value": 2.3377526755431433\}}}, {"outValue": 0.9880608686756972, "simIndex": 14.0, "features": {"0": {"effect": -0.18543850585970023, "value": -0.7644384750011292}, "1": {"effect": -0.06300070357901873, "value": -1.172013206191092}, "2": {"effect": -0.042064772503816183, "value": -0.9931861735814543}, "3": {"effect": 0.03738424224386161, "value": -0.30752322140981775}, "4": {"effect": -0.018442923398929334, "value": -0.8495998520802446}, "5": {"effect": 0.11671224047662151, "value": 2.069349188549799}, "6": {"effect": 0.23085531874629445, "value": 1.85180931108973}, "7": {"effect": 0.06887732301291913, "value": -0.9706340960055232}, "8": {"effect": 0.043780257618864726, "value": 0.5838111396899818}, "9": {"effect": 0.01698203617614108, "value": -0.22985142223490085}, "10": {"effect": 0.0356418895233272, "value": 0.37819940872460905}, "11": {"effect": 0.06390772072503445, "value": 0.25515074394262466}, "12": {"effect": -0.11535219188918222, "value": -0.2719766992384729\}}}, {"outValue": -0.20959276263357296, "simIndex": 6.0, "features": {"0": {"effect": 0.04240038852557332, "value": 0.7399232106556577}, "1": {"effect": 0.009860132861497173, "value": 0.18660209181125265}, "2": {"effect": 0.0061894102588709865, "value": 1.2023055842722266}, "3": {"effect": -0.1855873172610627, "value": 1.44154076150852}, "4": {"effect": 0.025256388498883175, "value": 0.34767629673569816}, "5": {"effect": -0.1466046529452244, "value": -1.1626297182947132}, "6": {"effect": -0.26607326295451494, "value": -1.1405442143619278}, "7": {"effect": -0.010523892262742862, "value": 0.20807207531247168}, "8": {"effect": -0.007670134217582891, "value": -0.11212425246298065}, "9": {"effect": -0.07660720456523606, "value": 1.523930984073326}, "10": {"effect": -0.08836770881749212, "value": -0.9312361253836764}, "11": {"effect": -0.2616214174333007, "value": -1.0918965335835114}, "12": {"effect": -0.04846242970452075, "value": 0.025334242192344168\}}}, {"outValue": 0.8066243349970195, "simIndex": 15.0, "features": {"0": {"effect": -0.12863643767206268, "value": -1.2244498995408064}, "1": {"effect": -0.031239922816578877, "value": -1.3069749907608614}, "2": {"effect": -0.0507507620931819, "value": -1.365303420675299}, "3": {"effect": 0.020977213976029696, "value": -0.16176788949995627}, "4": {"effect": -0.004286977145494031, "value": -0.9904558695880025}, "5": {"effect": 0.07079336833088426, "value": 0.26469091569245706}, "6": {"effect": 0.10905574926420036, "value": 0.3196420420440355}, "7": {"effect": 0.07295048062715592, "value": -0.49915162747832537}, "8": {"effect": 0.013150719956270068, "value": -0.29883862596743416}, "9": {"effect": 0.005396796421552913, "value": -1.0730160406523177}, "10": {"effect": 0.0692743789907174, "value": 1.862226347380665}, "11": {"effect": 0.1484454528802721, "value": 0.7411987306788594}, "12": {"effect": -0.2867246631060255, "value": -1.5338964728670519\}}}, {"outValue": 2.1782875102130603, "simIndex": 33.0, "features": {"0": {"effect": 0.1928737483932138, "value": 0.963712552323609}, "1": {"effect": 0.013144816776795798, "value": -0.7581304001771326}, "2": {"effect": 0.11614561371916265, "value": 1.2395173089816118}, "3": {"effect": 0.0503927387808627, "value": -0.016012557590094782}, "4": {"effect": -0.02165299236786289, "value": 2.2492325330904306}, "5": {"effect": 0.15257240782972548, "value": 1.1342080835237223}, "6": {"effect": 0.23914139185410999, "value": 0.8132261287164744}, "7": {"effect": -0.041523842766801655, "value": 1.0724566009456677}, "8": {"effect": 0.02278375218744788, "value": -0.4346308976070364}, "9": {"effect": 0.04211545060681576, "value": 0.14957265605293682}, "10": {"effect": 0.08243630546395297, "value": 1.2948042826004087}, "11": {"effect": 0.19044649811401926, "value": 0.5745537066550074}, "12": {"effect": 0.3411926842383388, "value": 1.6275098710139693\}}}, {"outValue": 2.2070613377751602, "simIndex": 34.0, "features": {"0": {"effect": 0.17174730820807027, "value": 1.4983204240859376}, "1": {"effect": 0.016568091796666073, "value": -0.7041456863492249}, "2": {"effect": 0.03317669580562044, "value": 0.42085936537515367}, "3": {"effect": 0.1325356043298357, "value": -0.8905445490492636}, "4": {"effect": 0.043443545338521794, "value": 0.5589603229973351}, "5": {"effect": 0.1518568125265063, "value": 1.7084175339783303}, "6": {"effect": 0.25846449227791823, "value": 2.0369033435918946}, "7": {"effect": 0.08097052632365198, "value": -0.3419908046359259}, "8": {"effect": 0.0766818798276293, "value": 0.4310448340954292}, "9": {"effect": -0.035698651882300814, "value": 1.540794276441674}, "10": {"effect": 0.07147874277975952, "value": 1.2075085803265229}, "11": {"effect": 0.11043012689516862, "value": 0.32458617061922934}, "12": {"effect": 0.2971872261648332, "value": 3.09754730364412\}}}, {"outValue": -0.21816234391938094, "simIndex": 10.0, "features": {"0": {"effect": -0.04683146843447994, "value": -0.4287544624992001}, "1": {"effect": -0.01693654673482281, "value": -0.9110870893562045}, "2": {"effect": -0.04310858440028531, "value": -1.29087997125653}, "3": {"effect": 0.023483588627853436, "value": -0.8030913499033465}, "4": {"effect": 0.01709418999610335, "value": -0.0044637470336967525}, "5": {"effect": -0.0694926373476572, "value": -0.39154845625566714}, "6": {"effect": -0.14045398642779972, "value": -0.5544131114384073}, "7": {"effect": -0.1292608828105336, "value": 1.308197835209267}, "8": {"effect": -0.14315153964818877, "value": -1.6737353763184089}, "9": {"effect": -0.009706215379610361, "value": 0.2971264642759846}, "10": {"effect": -0.00791546185526093, "value": 0.11631230190295178}, "11": {"effect": -0.2680401964709313, "value": -1.3835253256252522}, "12": {"effect": -0.18206154041704758, "value": -0.9657022292437126\}}}, {"outValue": 2.24576910825414, "simIndex": 31.0, "features": {"0": {"effect": 0.16683196313527582, "value": 1.050741740750035}, "1": {"effect": 0.0004938674712491875, "value": -0.6501609725213173}, "2": {"effect": 0.046315345960910914, "value": 0.8674000618877673}, "3": {"effect": 0.12397197440091845, "value": -0.6864870843754578}, "4": {"effect": 0.0354843500460178, "value": -0.4270317995569706}, "5": {"effect": 0.0865029845510118, "value": 0.3139088685885668}, "6": {"effect": 0.21155664933517038, "value": 1.0703011738583694}, "7": {"effect": 0.08524651486525259, "value": -1.1277949188479224}, "8": {"effect": 0.06714067516231448, "value": 1.1609282941582924}, "9": {"effect": 0.04354593665648632, "value": 0.2338891178946782}, "10": {"effect": 0.05384544058633667, "value": 1.2511564314634658}, "11": {"effect": 0.19151014496687824, "value": 1.0883758640618841}, "12": {"effect": 0.33510432373303756, "value": 1.726613518157575\}}}, {"outValue": 1.0134708305344364, "simIndex": 13.0, "features": {"0": {"effect": 0.016938202847722572, "value": 0.15558437407822773}, "1": {"effect": -0.05426956802345506, "value": -1.2259979200189997}, "2": {"effect": -0.17629471016401382, "value": -2.4816551619568323}, "3": {"effect": 0.13080055318377773, "value": -1.3278105447788482}, "4": {"effect": -0.07453201053608882, "value": -1.5538799396190344}, "5": {"effect": 0.10667099105613476, "value": 1.1834260364198312}, "6": {"effect": 0.18135101909042073, "value": 1.2656782081662095}, "7": {"effect": 0.0755610747352391, "value": -0.8134732731631238}, "8": {"effect": 0.07088838299241923, "value": 1.1439542602033415}, "9": {"effect": 0.026656421172834344, "value": 0.10741442513206577}, "10": {"effect": 0.04206595872605584, "value": 0.7273822178201521}, "11": {"effect": 0.11649626204349056, "value": 0.8245212426907855}, "12": {"effect": -0.2470806839733805, "value": -0.7939225741947962\}}}, {"outValue": 2.2172351608505725, "simIndex": 36.0, "features": {"0": {"effect": 0.11846090708721146, "value": 0.08098792685557879}, "1": {"effect": -0.010499892848397863, "value": -0.6501609725213173}, "2": {"effect": 0.04677775679640217, "value": 0.6813414383408442}, "3": {"effect": 0.12457572450369603, "value": -0.4532785533196792}, "4": {"effect": 0.03383123750003447, "value": -0.1453197645414547}, "5": {"effect": 0.1163100355086315, "value": 0.3139088685885668}, "6": {"effect": 0.2077846470923972, "value": 0.49445307274052447}, "7": {"effect": 0.10980830830002897, "value": -0.5777320388995251}, "8": {"effect": 0.032704317740697264, "value": -0.28186459201248387}, "9": {"effect": 0.038752773950253894, "value": -0.3352469995370779}, "10": {"effect": 0.07315826911608359, "value": 0.7273822178201521}, "11": {"effect": 0.08712183579541644, "value": -0.10591347477572144}, "12": {"effect": 0.44023030292483767, "value": 1.1980607333916782\}}}, {"outValue": 2.2115926683168072, "simIndex": 23.0, "features": {"0": {"effect": 0.15463255510677443, "value": 0.3172100097273049}, "1": {"effect": 0.04203020938440738, "value": 0.19559954411590372}, "2": {"effect": 0.17935475041852778, "value": 1.872116629041147}, "3": {"effect": 0.0015218572508230999, "value": 0.4212534381394896}, "4": {"effect": 0.10254502207567584, "value": 1.263240410536125}, "5": {"effect": 0.14712837612585572, "value": 0.888118319043175}, "6": {"effect": 0.24128105636582164, "value": 0.7618111196880951}, "7": {"effect": 0.04076213266397111, "value": 0.20807207531247168}, "8": {"effect": 0.07643381697137186, "value": 0.36314869827562796}, "9": {"effect": 0.048517437903720095, "value": -0.30573623789246823}, "10": {"effect": 0.06881368520940101, "value": 0.37819940872460905}, "11": {"effect": 0.2021100234703509, "value": 0.4773441093077607}, "12": {"effect": 0.1082428079868265, "value": -0.02421758137945867\}}}, {"outValue": 0.8660906029807309, "simIndex": 21.0, "features": {"0": {"effect": -0.09841203340241925, "value": -0.5903800981482772}, "1": {"effect": -0.004369568550616293, "value": -0.578181354084107}, "2": {"effect": -0.09107797398155183, "value": -1.439726870094068}, "3": {"effect": -0.04414905963641248, "value": 0.27549810622962817}, "4": {"effect": -0.02541172442207841, "value": -1.0608838783418815}, "5": {"effect": 0.028945835641744702, "value": -0.09624073887901091}, "6": {"effect": 0.03320958049405909, "value": -0.029980019348941556}, "7": {"effect": 0.05978825257971197, "value": -0.3419908046359259}, "8": {"effect": 0.014587980577403195, "value": -0.21396845619268257}, "9": {"effect": 0.010788978954194811, "value": -0.887519824600486}, "10": {"effect": 0.03134811257290891, "value": 0.37819940872460905}, "11": {"effect": 0.25165860443765675, "value": 1.3661175707683038}, "12": {"effect": -0.09903531966715001, "value": -0.2323352403810306\}}}, {"outValue": -0.19694698853401604, "simIndex": 11.0, "features": {"0": {"effect": -0.06942516947924804, "value": -0.8141694398162285}, "1": {"effect": -0.01908037157624093, "value": -1.145020849277138}, "2": {"effect": -0.02421067708501734, "value": -0.3233751288125356}, "3": {"effect": 0.045143138618560175, "value": -1.036299880959125}, "4": {"effect": 0.013664557089506202, "value": 0.06596426172018223}, "5": {"effect": -0.053979527797497595, "value": -0.3423305033595581}, "6": {"effect": -0.1869465818699544, "value": -0.8834691692200328}, "7": {"effect": -0.2235197723864749, "value": 2.0940019494212634}, "8": {"effect": -0.18003552987458937, "value": -2.0301900893723652}, "9": {"effect": -0.005715868839223648, "value": -0.7483976625616121}, "10": {"effect": 0.026227332012850046, "value": 1.2948042826004087}, "11": {"effect": -0.25384087305975256, "value": -1.2724286429426845}, "12": {"effect": -0.06344658167021344, "value": -0.20590760114273576\}}}, {"outValue": 0.8162144456146205, "simIndex": 17.0, "features": {"0": {"effect": -0.04933545741342765, "value": -0.5779473569445024}, "1": {"effect": 0.016698319875459833, "value": 0.05164030724148339}, "2": {"effect": -0.0264895436367506, "value": -0.732704100615764}, "3": {"effect": -0.03835573212676889, "value": 0.4212534381394896}, "4": {"effect": -0.0032668898032558458, "value": -0.8495998520802446}, "5": {"effect": 0.12905374161913047, "value": 0.4779687115755973}, "6": {"effect": 0.1249357923569909, "value": 0.32992504384971155}, "7": {"effect": 0.11008998309200718, "value": -0.8134732731631238}, "8": {"effect": -0.018534644510168397, "value": -0.6552933390213905}, "9": {"effect": 0.016805826499862148, "value": -1.2838071952566719}, "10": {"effect": -0.002662162349403585, "value": -0.23287050719259078}, "11": {"effect": 0.09561802115716056, "value": 0.26903782927794534}, "12": {"effect": -0.3365617465294954, "value": -1.3786340923420697\}}}, {"outValue": 0.8320429709184142, "simIndex": 19.0, "features": {"0": {"effect": -0.06978019572991377, "value": -0.689842027778478}, "1": {"effect": -0.015085845028032369, "value": -0.7581304001771326}, "2": {"effect": -0.014585744274321355, "value": -0.28616340410315033}, "3": {"effect": -0.06457155102895257, "value": 0.5670087700493511}, "4": {"effect": -0.02814440013689498, "value": -0.9904558695880025}, "5": {"effect": 0.133717831021637, "value": 0.789682413250957}, "6": {"effect": 0.2692589049307582, "value": 1.2348292027491818}, "7": {"effect": 0.024596764030648838, "value": 0.20807207531247168}, "8": {"effect": 0.04085621166622325, "value": 0.27827852850087637}, "9": {"effect": 0.018615463000825477, "value": -0.4659375153917776}, "10": {"effect": -0.06407982457705738, "value": -1.1494753810683909}, "11": {"effect": 0.10687226896240404, "value": 0.35236034128987137}, "12": {"effect": -0.30384584930219005, "value": -1.2894408099128245\}}}, {"outValue": -0.21043770396855765, "simIndex": 9.0, "features": {"0": {"effect": -0.11732338661418146, "value": -1.025526040280405}, "1": {"effect": 0.001777654795828587, "value": -0.6861507817399223}, "2": {"effect": -0.023149940268386626, "value": -0.2117399546843814}, "3": {"effect": -0.12594487483237016, "value": 0.9459726330149911}, "4": {"effect": -0.006912821866880525, "value": -0.7087438345724866}, "5": {"effect": -0.15525113337530128, "value": -0.7852920794245417}, "6": {"effect": -0.1441606550332174, "value": -0.26648906087948493}, "7": {"effect": -0.057623752980130005, "value": 0.5223937209972701}, "8": {"effect": -0.024252896372510768, "value": -0.07817618455308001}, "9": {"effect": 0.0023473996349462345, "value": -1.094095156112753}, "10": {"effect": 0.0637396629300212, "value": 1.6439870916959516}, "11": {"effect": -0.2097698270353106, "value": -0.45309060815874624}, "12": {"effect": -0.21213207033434456, "value": -0.8170467585283041\}}}, {"outValue": -0.145974237203648, "simIndex": 12.0, "features": {"0": {"effect": -0.24076003348664798, "value": -1.522835688431409}, "1": {"effect": -0.005676892358015051, "value": 0.2765766148577656}, "2": {"effect": 0.15409028173002998, "value": 2.0581752525880685}, "3": {"effect": -0.01679291548350209, "value": 0.1297427743197667}, "4": {"effect": 0.02466396386415437, "value": 0.2068202792279402}, "5": {"effect": -0.1723137294495174, "value": -0.834510032320651}, "6": {"effect": -0.06821667430057837, "value": 0.08313300051349212}, "7": {"effect": -0.2816827559240932, "value": 1.858260715157664}, "8": {"effect": -0.1550999068692377, "value": -0.9438519162555457}, "9": {"effect": 0.0023852499105419533, "value": -0.5249590386809968}, "10": {"effect": 0.0687091984074818, "value": 1.2075085803265229}, "11": {"effect": -0.13754956670267066, "value": -0.11980056011104213}, "12": {"effect": -0.11594939392487358, "value": -0.44705980919217625\}}}, {"outValue": -0.21304726662073414, "simIndex": 4.0, "features": {"0": {"effect": 0.04662671496721349, "value": 0.9885780347311587}, "1": {"effect": 0.0073432231092012135, "value": 0.3485562332949756}, "2": {"effect": -0.013577120725954739, "value": -0.2489516793937667}, "3": {"effect": -0.08491819361912867, "value": 0.7127641019592126}, "4": {"effect": 0.0014207099466232997, "value": -0.7087438345724866}, "5": {"effect": -0.16631403962423796, "value": -1.4907494042687752}, "6": {"effect": -0.24136813722544642, "value": -1.3050722432527408}, "7": {"effect": -0.03799228518950204, "value": 0.3652328981548707}, "8": {"effect": -0.06244108739891241, "value": -0.9777999841654462}, "9": {"effect": -0.08829134724454002, "value": 1.9117867085453377}, "10": {"effect": -0.07263353129891764, "value": -1.105827529931448}, "11": {"effect": -0.20720090186973072, "value": -1.2585415576073635}, "12": {"effect": -0.09192020783068133, "value": -0.4206321699538814\}}}, {"outValue": 2.2466290759364504, "simIndex": 32.0, "features": {"0": {"effect": 0.1273320167662504, "value": 0.5037011277839316}, "1": {"effect": 0.004203460823446914, "value": -0.5421915448655018}, "2": {"effect": 0.04993859768075537, "value": 0.9418235113065362}, "3": {"effect": 0.15660562934471245, "value": -1.0071488145771523}, "4": {"effect": 0.02804333785780755, "value": -0.4974598083108496}, "5": {"effect": 0.1338962417382299, "value": 0.970148240536691}, "6": {"effect": 0.2311988417248757, "value": 1.01888616482999}, "7": {"effect": 0.06981435082564635, "value": -0.18482998179352647}, "8": {"effect": 0.021568713037006804, "value": -0.26489055805753353}, "9": {"effect": 0.0440948119380572, "value": -0.10337672947228842}, "10": {"effect": 0.027877158147876724, "value": -0.14557480491870503}, "11": {"effect": 0.20908561095015765, "value": 0.8800695840320695}, "12": {"effect": 0.3447513677183478, "value": 1.4953716748224952\}}}, {"outValue": 2.244908024590343, "simIndex": 26.0, "features": {"0": {"effect": 0.2293979358075684, "value": 1.5356186476972642}, "1": {"effect": -0.005229480949911158, "value": -0.6051737109980608}, "2": {"effect": -0.0016776199207109155, "value": -0.2489516793937667}, "3": {"effect": 0.1544077478047301, "value": -0.9488466818132081}, "4": {"effect": 0.035163249983531486, "value": 1.263240410536125}, "5": {"effect": 0.15325207513850592, "value": 1.5443576909913}, "6": {"effect": 0.22464546511200134, "value": 1.0805841756640449}, "7": {"effect": 0.08815787964942534, "value": -0.8134732731631238}, "8": {"effect": 0.08258620063975008, "value": 0.7196034113295839}, "9": {"effect": 0.03422902334418443, "value": 0.5627233190774709}, "10": {"effect": 0.04666649189125671, "value": -0.058279102644819746}, "11": {"effect": 0.2037219274641704, "value": 1.0050533520499583}, "12": {"effect": 0.20136819124256133, "value": 0.7520943212454525\}}}, {"outValue": -0.19114650250775045, "simIndex": 7.0, "features": {"0": {"effect": -0.16054881218805028, "value": -1.1747189347257072}, "1": {"effect": -0.0018886234802961144, "value": 1.734163888211274}, "2": {"effect": -0.009312787657371369, "value": 0.04874211828130903}, "3": {"effect": -0.11997660088919271, "value": 0.7127641019592126}, "4": {"effect": -0.057407389435542355, "value": -1.4130239221112764}, "5": {"effect": -0.0698251642608857, "value": -0.26030058186604216}, "6": {"effect": -0.14022794142739176, "value": -0.20479105004543008}, "7": {"effect": -0.07525485639778451, "value": 0.4438133095760704}, "8": {"effect": -0.04766556688694623, "value": -0.4346308976070364}, "9": {"effect": 0.003239944758517632, "value": -1.0308578097314467}, "10": {"effect": -0.06834386805867054, "value": -0.712996869698962}, "11": {"effect": -0.10118428515943423, "value": -0.022590962763795422}, "12": {"effect": -0.140969488807982, "value": -0.5362530916214213\}}}, {"outValue": 2.233858671105843, "simIndex": 29.0, "features": {"0": {"effect": 0.19331599617679895, "value": 1.5231859064934894}, "1": {"effect": 0.03179824264741571, "value": 1.5002301282903407}, "2": {"effect": 0.022027785736191685, "value": 0.27201246653761585}, "3": {"effect": 0.09008386080541642, "value": -0.19091895588192898}, "4": {"effect": 0.05912637362266737, "value": 0.770244349258972}, "5": {"effect": 0.15498650830114835, "value": 0.970148240536691}, "6": {"effect": 0.21365405440070284, "value": 0.7206791124653918}, "7": {"effect": 0.10983485565843476, "value": -0.49915162747832537}, "8": {"effect": 0.01836939321145259, "value": -0.6043712371565396}, "9": {"effect": 0.04021661102388119, "value": 0.08211948657954343}, "10": {"effect": 0.01943876248383325, "value": -0.3638140606034194}, "11": {"effect": 0.23890468116756614, "value": 1.0328275227206003}, "12": {"effect": 0.243882608487054, "value": 1.1154743607720066\}}}, {"outValue": 2.2415243956341366, "simIndex": 24.0, "features": {"0": {"effect": 0.19646509229017128, "value": 2.294015861127544}, "1": {"effect": 0.004858399598730023, "value": -0.6591584248259686}, "2": {"effect": -0.013684841357305189, "value": -0.732704100615764}, "3": {"effect": 0.20477499586012382, "value": -1.619321208598571}, "4": {"effect": 0.036672517153790274, "value": -0.2157477732953337}, "5": {"effect": 0.13597852052449622, "value": 0.888118319043175}, "6": {"effect": 0.23662574431221284, "value": 1.0600181720526933}, "7": {"effect": 0.0932431060342086, "value": -0.5777320388995251}, "8": {"effect": 0.08182305127169176, "value": 0.6347332415548327}, "9": {"effect": 0.04985045717586223, "value": 0.06525619421119508}, "10": {"effect": 0.055185576515289436, "value": 0.5527908132723806}, "11": {"effect": 0.12027369316275027, "value": 0.36624742662519266}, "12": {"effect": 0.24123914570883498, "value": 0.9998534391044667\}}}, {"outValue": 2.2256145032438863, "simIndex": 27.0, "features": {"0": {"effect": 0.12595754168821738, "value": 0.08098792685557879}, "1": {"effect": -0.013213074324385121, "value": -0.5421915448655018}, "2": {"effect": -0.03759155804015457, "value": -0.9931861735814543}, "3": {"effect": 0.18086961306493754, "value": -0.7447892171394022}, "4": {"effect": 0.050105009605207695, "value": 0.4885323142434561}, "5": {"effect": 0.15026154290957872, "value": 1.2162380050172374}, "6": {"effect": 0.2701949280504221, "value": 1.0805841756640449}, "7": {"effect": 0.10261543250414995, "value": -0.6563124503207244}, "8": {"effect": 0.06915242747190986, "value": 0.7196034113295839}, "9": {"effect": 0.04559844161968818, "value": -0.002196975262198321}, "10": {"effect": 0.026704540083549944, "value": -0.32016620946647656}, "11": {"effect": 0.2342897050967322, "value": 1.0606016933912423}, "12": {"effect": 0.2224510161307527, "value": 0.4713006543385697\}}}], "plot\_cmap": "RdBu", "ordering\_keys": null, "ordering\_keys\_time\_format": null}), document.getElementById('i627GW3DDOY0339HQITJI') );

In the default configuration, the `x` axis is represented by the `36` instances in `X_test_norm` whereas the `y` axis represents the decision score. Note that, like before, the decision score is for class `0`. For a given instance, the height in between two horizontal lines is equal to the shap value of the feature, and hovering over a plot shows a list of the features along with their values, sorted by shap values. As before, the blue shading shows a negative contribution to the decision score (moves the score _away_ from the baseline value) whereas the pink shading shows a positive contribution to the decision score. Hovering over the plot, tells us, for example, that to achieve a high decision score (equivalent to class `0` membership) the features `proline` and `flavanoids` are generally the most important and that positive `proline` values lead to higher decision scores for belonging to this class whereas negative proline values provide evidence against this one belonging to `0` class.

To see the relationship between decision scores and the values more clearly, we can permute the `x` axis so that the instances are sorted according to the value of the `proline` feature by selecting `proline` from the horizontal drop down menu.

```python
shap.force_plot(
    svm_explainer.expected_value[class_idx], 
    svm_explanation.shap_values[class_idx], 
    X_test_norm,  
    feature_names,
)
```

Visualization omitted, Javascript library not loaded!\
Have you run \`initjs()\` in this notebook? If this notebook was from another user you must also trust this notebook (File -> Trust notebook). If you are viewing this notebook on github the Javascript has been stripped for security. If you are using JupyterLab this error is because a JupyterLab extension has not yet been written.if (window.SHAP) SHAP.ReactDom.render( SHAP.React.createElement(SHAP.AdditiveForceArrayVisualizer, {"outNames": \["f(x)"], "baseValue": 0.7982189373832798, "link": "identity", "featureNames": \["alcohol", "malic\_acid", "ash", "alcalinity\_of\_ash", "magnesium", "total\_phenols", "flavanoids", "nonflavanoid\_phenols", "proanthocyanins", "color\_intensity", "hue", "od280/od315\_of\_diluted\_wines", "proline"], "explanations": \[{"outValue": 2.2407129384665727, "simIndex": 25.0, "features": {"0": {"effect": 0.1885327306588105, "value": 0.9388470699160594}, "1": {"effect": -0.011324960864740441, "value": -0.6321660679120147}, "2": {"effect": -0.0006325969519609398, "value": -0.4350103029406882}, "3": {"effect": 0.16715848382781984, "value": -0.9196956154312363}, "4": {"effect": 0.025515760199743887, "value": 1.263240410536125}, "5": {"effect": 0.12274853003536879, "value": 0.5599986330691132}, "6": {"effect": 0.24647320131344685, "value": 0.9777541576072868}, "7": {"effect": 0.10310885981103057, "value": -1.2063753302691222}, "8": {"effect": 0.05473180937163791, "value": 0.02366801917662191}, "9": {"effect": 0.040484508659951235, "value": 0.3392846951968553}, "10": {"effect": 0.04015582604829704, "value": -0.14557480491870503}, "11": {"effect": 0.21121980506529603, "value": 0.8522954133614274}, "12": {"effect": 0.2543220439085916, "value": 1.0494052626762695\}}}, {"outValue": -0.2037002841196922, "simIndex": 3.0, "features": {"0": {"effect": -0.023272616785283418, "value": -0.2422633444425755}, "1": {"effect": 0.006025084240132372, "value": 0.2675791625531141}, "2": {"effect": 0.00808934629617264, "value": 0.42085936537515367}, "3": {"effect": -0.07776116915958597, "value": 0.7127641019592126}, "4": {"effect": 0.00357884333349906, "value": 0.840672358012851}, "5": {"effect": -0.13425250212117934, "value": -1.277471608385635}, "6": {"effect": -0.1206711224715975, "value": -0.6058281204667861}, "7": {"effect": 0.014611878008093715, "value": -0.9706340960055232}, "8": {"effect": -0.03211210801480169, "value": -0.5873972032015893}, "9": {"effect": -0.12110536842623026, "value": 2.426117125779962}, "10": {"effect": -0.1487163776882114, "value": -2.06608025494419}, "11": {"effect": -0.24141022936859735, "value": -1.5501703496491042}, "12": {"effect": -0.13492287934538283, "value": -0.866598582100107\}}}, {"outValue": 0.8645918444738925, "simIndex": 16.0, "features": {"0": {"effect": -0.0928415471401518, "value": -0.7644384750011292}, "1": {"effect": -0.0395618878644623, "value": -1.1180284923631842}, "2": {"effect": -0.024347275917420252, "value": -0.7699158253251476}, "3": {"effect": 0.007608409784162745, "value": -0.16176788949995627}, "4": {"effect": -0.019531572575670175, "value": -0.9200278608341236}, "5": {"effect": 0.12802434757926107, "value": 2.036537219952393}, "6": {"effect": 0.16876362566692626, "value": 1.183414193720803}, "7": {"effect": 0.06291891883135742, "value": -1.3635361531115213}, "8": {"effect": 0.03486445108020694, "value": 0.44801886805037955}, "9": {"effect": 0.010075979675596203, "value": -0.2509305376953362}, "10": {"effect": 0.036775615496994124, "value": 1.16386072918958}, "11": {"effect": 0.06975440504142971, "value": 0.3940215972958347}, "12": {"effect": -0.27613056256761725, "value": -1.0648058763873183\}}}, {"outValue": 2.2287208065028232, "simIndex": 28.0, "features": {"0": {"effect": 0.19401206913507651, "value": 0.7150577282481081}, "1": {"effect": -0.004006408713765119, "value": -0.578181354084107}, "2": {"effect": 0.028839112074459772, "value": 0.34643591595638473}, "3": {"effect": 0.02429566023590879, "value": 0.27549810622962817}, "4": {"effect": 0.031233334800930268, "value": 1.122384393028367}, "5": {"effect": 0.14743306765207487, "value": 1.150614067822425}, "6": {"effect": 0.22723367335424793, "value": 0.8543581359391771}, "7": {"effect": 0.08882122530148417, "value": -1.2849557416903217}, "8": {"effect": 0.07628522825787809, "value": 1.4325128374374974}, "9": {"effect": 0.04443941957670927, "value": 0.5079176188803388}, "10": {"effect": 0.05424097421148616, "value": 0.11631230190295178}, "11": {"effect": 0.17807610528125828, "value": 0.6162149626609701}, "12": {"effect": 0.3395984079517944, "value": 1.2476125569634808\}}}, {"outValue": 0.9282143661190523, "simIndex": 18.0, "features": {"0": {"effect": 0.004659223413696317, "value": 0.08098792685557879}, "1": {"effect": -0.05120298834809209, "value": 3.083781733908967}, "2": {"effect": -0.016451572698267136, "value": -0.8815509994533018}, "3": {"effect": -0.06645057991179823, "value": 0.5670087700493511}, "4": {"effect": -0.03727731521925662, "value": -0.9904558695880025}, "5": {"effect": 0.10764501956828412, "value": 0.5928106016665196}, "6": {"effect": 0.19249935212570524, "value": 0.7206791124653918}, "7": {"effect": 0.08270121140042144, "value": -0.49915162747832537}, "8": {"effect": 0.06901115679300707, "value": 0.6856553434196833}, "9": {"effect": 0.005592369081099419, "value": -1.0308578097314467}, "10": {"effect": -0.02003663057298838, "value": -0.9748839765206193}, "11": {"effect": 0.15390219115417428, "value": 0.7134245600082174}, "12": {"effect": -0.2945960080502129, "value": -1.1969440725787925\}}}, {"outValue": 0.9309835734699559, "simIndex": 22.0, "features": {"0": {"effect": -0.19259812282770078, "value": -1.7714905125069098}, "1": {"effect": 0.020937420121953862, "value": -0.29026288033526587}, "2": {"effect": 0.12937876575067503, "value": 3.211738718578986}, "3": {"effect": -0.2461561392099729, "value": 2.6075834167874117}, "4": {"effect": 0.05788279248812883, "value": 1.333668419290004}, "5": {"effect": 0.08150393731667815, "value": 1.5115457223938937}, "6": {"effect": 0.15500604635165327, "value": 3.2194485512446116}, "7": {"effect": -0.0075753961989177, "value": 0.8367153666820686}, "8": {"effect": 0.04352970146380253, "value": 0.44801886805037955}, "9": {"effect": 0.002843418806417586, "value": 0.4025220415781617}, "10": {"effect": 0.021191884665406474, "value": -0.10192695378176214}, "11": {"effect": 0.14834595804320905, "value": 1.5327625947921557}, "12": {"effect": -0.08152563068465729, "value": -0.9161504056719099\}}}, {"outValue": 2.235753735241953, "simIndex": 30.0, "features": {"0": {"effect": 0.16313339656836345, "value": 1.3366947884368625}, "1": {"effect": 0.03291015900321992, "value": -0.2002883572887529}, "2": {"effect": 0.05232633693388711, "value": 0.9046117865971509}, "3": {"effect": 0.1072543222238247, "value": -0.569882818847568}, "4": {"effect": 0.029472511605386886, "value": 1.474524436797762}, "5": {"effect": 0.10637827122407761, "value": 0.5599986330691132}, "6": {"effect": 0.19002150775252857, "value": 0.5767170871859305}, "7": {"effect": 0.07313786089827612, "value": -0.42057121605712566}, "8": {"effect": 0.00897746073377892, "value": -0.6043712371565396}, "9": {"effect": 0.037477942404415376, "value": 0.002018847829888673}, "10": {"effect": 0.06860934568497057, "value": 0.46549511099849483}, "11": {"effect": 0.26562141625863456, "value": 1.380004656103625}, "12": {"effect": 0.3022142665673093, "value": 1.8257171653011808\}}}, {"outValue": -0.21994536362955164, "simIndex": 2.0, "features": {"0": {"effect": -0.059293363054332526, "value": -0.776871216204904}, "1": {"effect": 0.015258455723505315, "value": 1.3112836298926638}, "2": {"effect": -0.010818322135161096, "value": 0.04874211828130903}, "3": {"effect": -0.04898371059366452, "value": 0.4212534381394896}, "4": {"effect": -0.014618688052980056, "value": -0.8495998520802446}, "5": {"effect": -0.023796633997910932, "value": 0.06781910410801958}, "6": {"effect": -0.2036115381748681, "value": -1.0582801999165212}, "7": {"effect": -0.10299422110757273, "value": 1.0724566009456677}, "8": {"effect": -0.06168383429949542, "value": -0.9608259502104959}, "9": {"effect": -0.03871543260638832, "value": 1.0981328517725306}, "10": {"effect": -0.11436925650441077, "value": -1.7168974458486472}, "11": {"effect": -0.2361691788986081, "value": -1.3974124109605732}, "12": {"effect": -0.11836857731094408, "value": -0.7344603859086327\}}}, {"outValue": 0.8180729921712563, "simIndex": 20.0, "features": {"0": {"effect": -0.11340593362691923, "value": -0.9136313694464293}, "1": {"effect": -0.004181118441896406, "value": -0.578181354084107}, "2": {"effect": -0.042119681668744996, "value": -0.9187627241626855}, "3": {"effect": 0.041988516549153226, "value": -0.16176788949995627}, "4": {"effect": -0.038899762550892794, "value": -1.4130239221112764}, "5": {"effect": -0.08002685957875057, "value": -0.9985698753076823}, "6": {"effect": 0.08323171529873902, "value": 0.08313300051349212}, "7": {"effect": 0.046687823523416674, "value": 0.05091125247007225}, "8": {"effect": 0.05403435187656977, "value": 0.040642053131571855}, "9": {"effect": 0.02812030024602255, "value": -0.6935919623644801}, "10": {"effect": 0.04884446103590251, "value": 0.20360800417683753}, "11": {"effect": 0.17648554573523578, "value": 0.8106341573554642}, "12": {"effect": -0.18090530360985901, "value": -0.7674949349565013\}}}, {"outValue": -0.21126420469507567, "simIndex": 8.0, "features": {"0": {"effect": -0.13186553693920683, "value": -1.1249879699106058}, "1": {"effect": 0.002395824781642686, "value": -0.488206831037594}, "2": {"effect": -0.01780861379294385, "value": -0.17452822997499776}, "3": {"effect": 0.0020795280493594026, "value": -0.30752322140981775}, "4": {"effect": -0.03310321501688346, "value": -1.3425959133573975}, "5": {"effect": -0.15731332320272612, "value": -1.0805997968011976}, "6": {"effect": -0.16115116648031708, "value": -0.4618660951873251}, "7": {"effect": -0.1547866846506254, "value": 1.2296174237880673}, "8": {"effect": -0.007620537098026348, "value": 0.057616087086522175}, "9": {"effect": -0.005017691832630511, "value": -1.1151742715731885}, "10": {"effect": 0.0019419542240710075, "value": 0.5527908132723806}, "11": {"effect": -0.15534906242757707, "value": -0.4392035228234249}, "12": {"effect": -0.191884617692492, "value": -0.866598582100107\}}}, {"outValue": -0.20248608355760278, "simIndex": 1.0, "features": {"0": {"effect": 0.02985578794962984, "value": 0.466402904172605}, "1": {"effect": 0.017783990767940905, "value": 0.16860718720195003}, "2": {"effect": -0.007712605612348988, "value": -0.06289305584684354}, "3": {"effect": -0.028402264550335676, "value": 0.1297427743197667}, "4": {"effect": -0.010287595546214723, "value": -0.7791718433263656}, "5": {"effect": -0.2119874083517681, "value": -1.40871948277526}, "6": {"effect": -0.3912849188329206, "value": -1.490166275754905}, "7": {"effect": -0.017390726384482025, "value": 0.05091125247007225}, "8": {"effect": -0.15602334118779093, "value": -1.6397873084085082}, "9": {"effect": -0.008385758013899292, "value": 0.2338891178946782}, "10": {"effect": -0.0919438674218932, "value": -1.105827529931448}, "11": {"effect": -0.10964451710203882, "value": -0.16146181611700483}, "12": {"effect": -0.015281796654760926, "value": 0.12443788933594985\}}}, {"outValue": -0.19231747818856226, "simIndex": 5.0, "features": {"0": {"effect": 0.04037848081302553, "value": 1.1129054467689112}, "1": {"effect": -0.03133251735186793, "value": 2.3999753587554697}, "2": {"effect": -0.008305280411134985, "value": -0.5094337523594571}, "3": {"effect": -0.021702295105018976, "value": 0.1297427743197667}, "4": {"effect": -0.024567436542784538, "value": -1.4130239221112764}, "5": {"effect": -0.1906552910363627, "value": -2.0977708233207903}, "6": {"effect": -0.22248205065521148, "value": -1.6546943046457179}, "7": {"effect": -0.03258781424063162, "value": 0.2866524867336714}, "8": {"effect": -0.09362088059887375, "value": -1.5718911725887068}, "9": {"effect": -0.0016347380478345386, "value": -0.06121849855141736}, "10": {"effect": -0.07413012656356005, "value": -1.629601743574762}, "11": {"effect": -0.2070919346699085, "value": -1.744589544343598}, "12": {"effect": -0.12280453116167844, "value": -1.0813231509112526\}}}, {"outValue": 2.245650734878156, "simIndex": 35.0, "features": {"0": {"effect": 0.18044679811303432, "value": 1.5107531652897124}, "1": {"effect": 0.008115423795964194, "value": -0.551188997170153}, "2": {"effect": 0.01743346315350347, "value": 0.3092241912470011}, "3": {"effect": 0.14812310985283927, "value": -1.2695084120149036}, "4": {"effect": 0.03374807089733556, "value": 0.840672358012851}, "5": {"effect": 0.1463170806524816, "value": 1.6591995810822213}, "6": {"effect": 0.2506975831397784, "value": 1.4816212460854012}, "7": {"effect": 0.07464080217831764, "value": -0.18482998179352647}, "8": {"effect": 0.07202455786340123, "value": 0.6177592075998823}, "9": {"effect": 0.014253903286534308, "value": 0.718708773484693}, "10": {"effect": 0.06388312310774641, "value": 0.42184725986155197}, "11": {"effect": 0.12268071915914192, "value": 0.36624742662519266}, "12": {"effect": 0.3150671622947978, "value": 2.3377526755431433\}}}, {"outValue": 0.9880608686756972, "simIndex": 14.0, "features": {"0": {"effect": -0.18543850585970023, "value": -0.7644384750011292}, "1": {"effect": -0.06300070357901873, "value": -1.172013206191092}, "2": {"effect": -0.042064772503816183, "value": -0.9931861735814543}, "3": {"effect": 0.03738424224386161, "value": -0.30752322140981775}, "4": {"effect": -0.018442923398929334, "value": -0.8495998520802446}, "5": {"effect": 0.11671224047662151, "value": 2.069349188549799}, "6": {"effect": 0.23085531874629445, "value": 1.85180931108973}, "7": {"effect": 0.06887732301291913, "value": -0.9706340960055232}, "8": {"effect": 0.043780257618864726, "value": 0.5838111396899818}, "9": {"effect": 0.01698203617614108, "value": -0.22985142223490085}, "10": {"effect": 0.0356418895233272, "value": 0.37819940872460905}, "11": {"effect": 0.06390772072503445, "value": 0.25515074394262466}, "12": {"effect": -0.11535219188918222, "value": -0.2719766992384729\}}}, {"outValue": -0.20959276263357296, "simIndex": 6.0, "features": {"0": {"effect": 0.04240038852557332, "value": 0.7399232106556577}, "1": {"effect": 0.009860132861497173, "value": 0.18660209181125265}, "2": {"effect": 0.0061894102588709865, "value": 1.2023055842722266}, "3": {"effect": -0.1855873172610627, "value": 1.44154076150852}, "4": {"effect": 0.025256388498883175, "value": 0.34767629673569816}, "5": {"effect": -0.1466046529452244, "value": -1.1626297182947132}, "6": {"effect": -0.26607326295451494, "value": -1.1405442143619278}, "7": {"effect": -0.010523892262742862, "value": 0.20807207531247168}, "8": {"effect": -0.007670134217582891, "value": -0.11212425246298065}, "9": {"effect": -0.07660720456523606, "value": 1.523930984073326}, "10": {"effect": -0.08836770881749212, "value": -0.9312361253836764}, "11": {"effect": -0.2616214174333007, "value": -1.0918965335835114}, "12": {"effect": -0.04846242970452075, "value": 0.025334242192344168\}}}, {"outValue": 0.8066243349970195, "simIndex": 15.0, "features": {"0": {"effect": -0.12863643767206268, "value": -1.2244498995408064}, "1": {"effect": -0.031239922816578877, "value": -1.3069749907608614}, "2": {"effect": -0.0507507620931819, "value": -1.365303420675299}, "3": {"effect": 0.020977213976029696, "value": -0.16176788949995627}, "4": {"effect": -0.004286977145494031, "value": -0.9904558695880025}, "5": {"effect": 0.07079336833088426, "value": 0.26469091569245706}, "6": {"effect": 0.10905574926420036, "value": 0.3196420420440355}, "7": {"effect": 0.07295048062715592, "value": -0.49915162747832537}, "8": {"effect": 0.013150719956270068, "value": -0.29883862596743416}, "9": {"effect": 0.005396796421552913, "value": -1.0730160406523177}, "10": {"effect": 0.0692743789907174, "value": 1.862226347380665}, "11": {"effect": 0.1484454528802721, "value": 0.7411987306788594}, "12": {"effect": -0.2867246631060255, "value": -1.5338964728670519\}}}, {"outValue": 2.1782875102130603, "simIndex": 33.0, "features": {"0": {"effect": 0.1928737483932138, "value": 0.963712552323609}, "1": {"effect": 0.013144816776795798, "value": -0.7581304001771326}, "2": {"effect": 0.11614561371916265, "value": 1.2395173089816118}, "3": {"effect": 0.0503927387808627, "value": -0.016012557590094782}, "4": {"effect": -0.02165299236786289, "value": 2.2492325330904306}, "5": {"effect": 0.15257240782972548, "value": 1.1342080835237223}, "6": {"effect": 0.23914139185410999, "value": 0.8132261287164744}, "7": {"effect": -0.041523842766801655, "value": 1.0724566009456677}, "8": {"effect": 0.02278375218744788, "value": -0.4346308976070364}, "9": {"effect": 0.04211545060681576, "value": 0.14957265605293682}, "10": {"effect": 0.08243630546395297, "value": 1.2948042826004087}, "11": {"effect": 0.19044649811401926, "value": 0.5745537066550074}, "12": {"effect": 0.3411926842383388, "value": 1.6275098710139693\}}}, {"outValue": 2.2070613377751602, "simIndex": 34.0, "features": {"0": {"effect": 0.17174730820807027, "value": 1.4983204240859376}, "1": {"effect": 0.016568091796666073, "value": -0.7041456863492249}, "2": {"effect": 0.03317669580562044, "value": 0.42085936537515367}, "3": {"effect": 0.1325356043298357, "value": -0.8905445490492636}, "4": {"effect": 0.043443545338521794, "value": 0.5589603229973351}, "5": {"effect": 0.1518568125265063, "value": 1.7084175339783303}, "6": {"effect": 0.25846449227791823, "value": 2.0369033435918946}, "7": {"effect": 0.08097052632365198, "value": -0.3419908046359259}, "8": {"effect": 0.0766818798276293, "value": 0.4310448340954292}, "9": {"effect": -0.035698651882300814, "value": 1.540794276441674}, "10": {"effect": 0.07147874277975952, "value": 1.2075085803265229}, "11": {"effect": 0.11043012689516862, "value": 0.32458617061922934}, "12": {"effect": 0.2971872261648332, "value": 3.09754730364412\}}}, {"outValue": -0.21816234391938094, "simIndex": 10.0, "features": {"0": {"effect": -0.04683146843447994, "value": -0.4287544624992001}, "1": {"effect": -0.01693654673482281, "value": -0.9110870893562045}, "2": {"effect": -0.04310858440028531, "value": -1.29087997125653}, "3": {"effect": 0.023483588627853436, "value": -0.8030913499033465}, "4": {"effect": 0.01709418999610335, "value": -0.0044637470336967525}, "5": {"effect": -0.0694926373476572, "value": -0.39154845625566714}, "6": {"effect": -0.14045398642779972, "value": -0.5544131114384073}, "7": {"effect": -0.1292608828105336, "value": 1.308197835209267}, "8": {"effect": -0.14315153964818877, "value": -1.6737353763184089}, "9": {"effect": -0.009706215379610361, "value": 0.2971264642759846}, "10": {"effect": -0.00791546185526093, "value": 0.11631230190295178}, "11": {"effect": -0.2680401964709313, "value": -1.3835253256252522}, "12": {"effect": -0.18206154041704758, "value": -0.9657022292437126\}}}, {"outValue": 2.24576910825414, "simIndex": 31.0, "features": {"0": {"effect": 0.16683196313527582, "value": 1.050741740750035}, "1": {"effect": 0.0004938674712491875, "value": -0.6501609725213173}, "2": {"effect": 0.046315345960910914, "value": 0.8674000618877673}, "3": {"effect": 0.12397197440091845, "value": -0.6864870843754578}, "4": {"effect": 0.0354843500460178, "value": -0.4270317995569706}, "5": {"effect": 0.0865029845510118, "value": 0.3139088685885668}, "6": {"effect": 0.21155664933517038, "value": 1.0703011738583694}, "7": {"effect": 0.08524651486525259, "value": -1.1277949188479224}, "8": {"effect": 0.06714067516231448, "value": 1.1609282941582924}, "9": {"effect": 0.04354593665648632, "value": 0.2338891178946782}, "10": {"effect": 0.05384544058633667, "value": 1.2511564314634658}, "11": {"effect": 0.19151014496687824, "value": 1.0883758640618841}, "12": {"effect": 0.33510432373303756, "value": 1.726613518157575\}}}, {"outValue": 1.0134708305344364, "simIndex": 13.0, "features": {"0": {"effect": 0.016938202847722572, "value": 0.15558437407822773}, "1": {"effect": -0.05426956802345506, "value": -1.2259979200189997}, "2": {"effect": -0.17629471016401382, "value": -2.4816551619568323}, "3": {"effect": 0.13080055318377773, "value": -1.3278105447788482}, "4": {"effect": -0.07453201053608882, "value": -1.5538799396190344}, "5": {"effect": 0.10667099105613476, "value": 1.1834260364198312}, "6": {"effect": 0.18135101909042073, "value": 1.2656782081662095}, "7": {"effect": 0.0755610747352391, "value": -0.8134732731631238}, "8": {"effect": 0.07088838299241923, "value": 1.1439542602033415}, "9": {"effect": 0.026656421172834344, "value": 0.10741442513206577}, "10": {"effect": 0.04206595872605584, "value": 0.7273822178201521}, "11": {"effect": 0.11649626204349056, "value": 0.8245212426907855}, "12": {"effect": -0.2470806839733805, "value": -0.7939225741947962\}}}, {"outValue": 2.2172351608505725, "simIndex": 36.0, "features": {"0": {"effect": 0.11846090708721146, "value": 0.08098792685557879}, "1": {"effect": -0.010499892848397863, "value": -0.6501609725213173}, "2": {"effect": 0.04677775679640217, "value": 0.6813414383408442}, "3": {"effect": 0.12457572450369603, "value": -0.4532785533196792}, "4": {"effect": 0.03383123750003447, "value": -0.1453197645414547}, "5": {"effect": 0.1163100355086315, "value": 0.3139088685885668}, "6": {"effect": 0.2077846470923972, "value": 0.49445307274052447}, "7": {"effect": 0.10980830830002897, "value": -0.5777320388995251}, "8": {"effect": 0.032704317740697264, "value": -0.28186459201248387}, "9": {"effect": 0.038752773950253894, "value": -0.3352469995370779}, "10": {"effect": 0.07315826911608359, "value": 0.7273822178201521}, "11": {"effect": 0.08712183579541644, "value": -0.10591347477572144}, "12": {"effect": 0.44023030292483767, "value": 1.1980607333916782\}}}, {"outValue": 2.2115926683168072, "simIndex": 23.0, "features": {"0": {"effect": 0.15463255510677443, "value": 0.3172100097273049}, "1": {"effect": 0.04203020938440738, "value": 0.19559954411590372}, "2": {"effect": 0.17935475041852778, "value": 1.872116629041147}, "3": {"effect": 0.0015218572508230999, "value": 0.4212534381394896}, "4": {"effect": 0.10254502207567584, "value": 1.263240410536125}, "5": {"effect": 0.14712837612585572, "value": 0.888118319043175}, "6": {"effect": 0.24128105636582164, "value": 0.7618111196880951}, "7": {"effect": 0.04076213266397111, "value": 0.20807207531247168}, "8": {"effect": 0.07643381697137186, "value": 0.36314869827562796}, "9": {"effect": 0.048517437903720095, "value": -0.30573623789246823}, "10": {"effect": 0.06881368520940101, "value": 0.37819940872460905}, "11": {"effect": 0.2021100234703509, "value": 0.4773441093077607}, "12": {"effect": 0.1082428079868265, "value": -0.02421758137945867\}}}, {"outValue": 0.8660906029807309, "simIndex": 21.0, "features": {"0": {"effect": -0.09841203340241925, "value": -0.5903800981482772}, "1": {"effect": -0.004369568550616293, "value": -0.578181354084107}, "2": {"effect": -0.09107797398155183, "value": -1.439726870094068}, "3": {"effect": -0.04414905963641248, "value": 0.27549810622962817}, "4": {"effect": -0.02541172442207841, "value": -1.0608838783418815}, "5": {"effect": 0.028945835641744702, "value": -0.09624073887901091}, "6": {"effect": 0.03320958049405909, "value": -0.029980019348941556}, "7": {"effect": 0.05978825257971197, "value": -0.3419908046359259}, "8": {"effect": 0.014587980577403195, "value": -0.21396845619268257}, "9": {"effect": 0.010788978954194811, "value": -0.887519824600486}, "10": {"effect": 0.03134811257290891, "value": 0.37819940872460905}, "11": {"effect": 0.25165860443765675, "value": 1.3661175707683038}, "12": {"effect": -0.09903531966715001, "value": -0.2323352403810306\}}}, {"outValue": -0.19694698853401604, "simIndex": 11.0, "features": {"0": {"effect": -0.06942516947924804, "value": -0.8141694398162285}, "1": {"effect": -0.01908037157624093, "value": -1.145020849277138}, "2": {"effect": -0.02421067708501734, "value": -0.3233751288125356}, "3": {"effect": 0.045143138618560175, "value": -1.036299880959125}, "4": {"effect": 0.013664557089506202, "value": 0.06596426172018223}, "5": {"effect": -0.053979527797497595, "value": -0.3423305033595581}, "6": {"effect": -0.1869465818699544, "value": -0.8834691692200328}, "7": {"effect": -0.2235197723864749, "value": 2.0940019494212634}, "8": {"effect": -0.18003552987458937, "value": -2.0301900893723652}, "9": {"effect": -0.005715868839223648, "value": -0.7483976625616121}, "10": {"effect": 0.026227332012850046, "value": 1.2948042826004087}, "11": {"effect": -0.25384087305975256, "value": -1.2724286429426845}, "12": {"effect": -0.06344658167021344, "value": -0.20590760114273576\}}}, {"outValue": 0.8162144456146205, "simIndex": 17.0, "features": {"0": {"effect": -0.04933545741342765, "value": -0.5779473569445024}, "1": {"effect": 0.016698319875459833, "value": 0.05164030724148339}, "2": {"effect": -0.0264895436367506, "value": -0.732704100615764}, "3": {"effect": -0.03835573212676889, "value": 0.4212534381394896}, "4": {"effect": -0.0032668898032558458, "value": -0.8495998520802446}, "5": {"effect": 0.12905374161913047, "value": 0.4779687115755973}, "6": {"effect": 0.1249357923569909, "value": 0.32992504384971155}, "7": {"effect": 0.11008998309200718, "value": -0.8134732731631238}, "8": {"effect": -0.018534644510168397, "value": -0.6552933390213905}, "9": {"effect": 0.016805826499862148, "value": -1.2838071952566719}, "10": {"effect": -0.002662162349403585, "value": -0.23287050719259078}, "11": {"effect": 0.09561802115716056, "value": 0.26903782927794534}, "12": {"effect": -0.3365617465294954, "value": -1.3786340923420697\}}}, {"outValue": 0.8320429709184142, "simIndex": 19.0, "features": {"0": {"effect": -0.06978019572991377, "value": -0.689842027778478}, "1": {"effect": -0.015085845028032369, "value": -0.7581304001771326}, "2": {"effect": -0.014585744274321355, "value": -0.28616340410315033}, "3": {"effect": -0.06457155102895257, "value": 0.5670087700493511}, "4": {"effect": -0.02814440013689498, "value": -0.9904558695880025}, "5": {"effect": 0.133717831021637, "value": 0.789682413250957}, "6": {"effect": 0.2692589049307582, "value": 1.2348292027491818}, "7": {"effect": 0.024596764030648838, "value": 0.20807207531247168}, "8": {"effect": 0.04085621166622325, "value": 0.27827852850087637}, "9": {"effect": 0.018615463000825477, "value": -0.4659375153917776}, "10": {"effect": -0.06407982457705738, "value": -1.1494753810683909}, "11": {"effect": 0.10687226896240404, "value": 0.35236034128987137}, "12": {"effect": -0.30384584930219005, "value": -1.2894408099128245\}}}, {"outValue": -0.21043770396855765, "simIndex": 9.0, "features": {"0": {"effect": -0.11732338661418146, "value": -1.025526040280405}, "1": {"effect": 0.001777654795828587, "value": -0.6861507817399223}, "2": {"effect": -0.023149940268386626, "value": -0.2117399546843814}, "3": {"effect": -0.12594487483237016, "value": 0.9459726330149911}, "4": {"effect": -0.006912821866880525, "value": -0.7087438345724866}, "5": {"effect": -0.15525113337530128, "value": -0.7852920794245417}, "6": {"effect": -0.1441606550332174, "value": -0.26648906087948493}, "7": {"effect": -0.057623752980130005, "value": 0.5223937209972701}, "8": {"effect": -0.024252896372510768, "value": -0.07817618455308001}, "9": {"effect": 0.0023473996349462345, "value": -1.094095156112753}, "10": {"effect": 0.0637396629300212, "value": 1.6439870916959516}, "11": {"effect": -0.2097698270353106, "value": -0.45309060815874624}, "12": {"effect": -0.21213207033434456, "value": -0.8170467585283041\}}}, {"outValue": -0.145974237203648, "simIndex": 12.0, "features": {"0": {"effect": -0.24076003348664798, "value": -1.522835688431409}, "1": {"effect": -0.005676892358015051, "value": 0.2765766148577656}, "2": {"effect": 0.15409028173002998, "value": 2.0581752525880685}, "3": {"effect": -0.01679291548350209, "value": 0.1297427743197667}, "4": {"effect": 0.02466396386415437, "value": 0.2068202792279402}, "5": {"effect": -0.1723137294495174, "value": -0.834510032320651}, "6": {"effect": -0.06821667430057837, "value": 0.08313300051349212}, "7": {"effect": -0.2816827559240932, "value": 1.858260715157664}, "8": {"effect": -0.1550999068692377, "value": -0.9438519162555457}, "9": {"effect": 0.0023852499105419533, "value": -0.5249590386809968}, "10": {"effect": 0.0687091984074818, "value": 1.2075085803265229}, "11": {"effect": -0.13754956670267066, "value": -0.11980056011104213}, "12": {"effect": -0.11594939392487358, "value": -0.44705980919217625\}}}, {"outValue": -0.21304726662073414, "simIndex": 4.0, "features": {"0": {"effect": 0.04662671496721349, "value": 0.9885780347311587}, "1": {"effect": 0.0073432231092012135, "value": 0.3485562332949756}, "2": {"effect": -0.013577120725954739, "value": -0.2489516793937667}, "3": {"effect": -0.08491819361912867, "value": 0.7127641019592126}, "4": {"effect": 0.0014207099466232997, "value": -0.7087438345724866}, "5": {"effect": -0.16631403962423796, "value": -1.4907494042687752}, "6": {"effect": -0.24136813722544642, "value": -1.3050722432527408}, "7": {"effect": -0.03799228518950204, "value": 0.3652328981548707}, "8": {"effect": -0.06244108739891241, "value": -0.9777999841654462}, "9": {"effect": -0.08829134724454002, "value": 1.9117867085453377}, "10": {"effect": -0.07263353129891764, "value": -1.105827529931448}, "11": {"effect": -0.20720090186973072, "value": -1.2585415576073635}, "12": {"effect": -0.09192020783068133, "value": -0.4206321699538814\}}}, {"outValue": 2.2466290759364504, "simIndex": 32.0, "features": {"0": {"effect": 0.1273320167662504, "value": 0.5037011277839316}, "1": {"effect": 0.004203460823446914, "value": -0.5421915448655018}, "2": {"effect": 0.04993859768075537, "value": 0.9418235113065362}, "3": {"effect": 0.15660562934471245, "value": -1.0071488145771523}, "4": {"effect": 0.02804333785780755, "value": -0.4974598083108496}, "5": {"effect": 0.1338962417382299, "value": 0.970148240536691}, "6": {"effect": 0.2311988417248757, "value": 1.01888616482999}, "7": {"effect": 0.06981435082564635, "value": -0.18482998179352647}, "8": {"effect": 0.021568713037006804, "value": -0.26489055805753353}, "9": {"effect": 0.0440948119380572, "value": -0.10337672947228842}, "10": {"effect": 0.027877158147876724, "value": -0.14557480491870503}, "11": {"effect": 0.20908561095015765, "value": 0.8800695840320695}, "12": {"effect": 0.3447513677183478, "value": 1.4953716748224952\}}}, {"outValue": 2.244908024590343, "simIndex": 26.0, "features": {"0": {"effect": 0.2293979358075684, "value": 1.5356186476972642}, "1": {"effect": -0.005229480949911158, "value": -0.6051737109980608}, "2": {"effect": -0.0016776199207109155, "value": -0.2489516793937667}, "3": {"effect": 0.1544077478047301, "value": -0.9488466818132081}, "4": {"effect": 0.035163249983531486, "value": 1.263240410536125}, "5": {"effect": 0.15325207513850592, "value": 1.5443576909913}, "6": {"effect": 0.22464546511200134, "value": 1.0805841756640449}, "7": {"effect": 0.08815787964942534, "value": -0.8134732731631238}, "8": {"effect": 0.08258620063975008, "value": 0.7196034113295839}, "9": {"effect": 0.03422902334418443, "value": 0.5627233190774709}, "10": {"effect": 0.04666649189125671, "value": -0.058279102644819746}, "11": {"effect": 0.2037219274641704, "value": 1.0050533520499583}, "12": {"effect": 0.20136819124256133, "value": 0.7520943212454525\}}}, {"outValue": -0.19114650250775045, "simIndex": 7.0, "features": {"0": {"effect": -0.16054881218805028, "value": -1.1747189347257072}, "1": {"effect": -0.0018886234802961144, "value": 1.734163888211274}, "2": {"effect": -0.009312787657371369, "value": 0.04874211828130903}, "3": {"effect": -0.11997660088919271, "value": 0.7127641019592126}, "4": {"effect": -0.057407389435542355, "value": -1.4130239221112764}, "5": {"effect": -0.0698251642608857, "value": -0.26030058186604216}, "6": {"effect": -0.14022794142739176, "value": -0.20479105004543008}, "7": {"effect": -0.07525485639778451, "value": 0.4438133095760704}, "8": {"effect": -0.04766556688694623, "value": -0.4346308976070364}, "9": {"effect": 0.003239944758517632, "value": -1.0308578097314467}, "10": {"effect": -0.06834386805867054, "value": -0.712996869698962}, "11": {"effect": -0.10118428515943423, "value": -0.022590962763795422}, "12": {"effect": -0.140969488807982, "value": -0.5362530916214213\}}}, {"outValue": 2.233858671105843, "simIndex": 29.0, "features": {"0": {"effect": 0.19331599617679895, "value": 1.5231859064934894}, "1": {"effect": 0.03179824264741571, "value": 1.5002301282903407}, "2": {"effect": 0.022027785736191685, "value": 0.27201246653761585}, "3": {"effect": 0.09008386080541642, "value": -0.19091895588192898}, "4": {"effect": 0.05912637362266737, "value": 0.770244349258972}, "5": {"effect": 0.15498650830114835, "value": 0.970148240536691}, "6": {"effect": 0.21365405440070284, "value": 0.7206791124653918}, "7": {"effect": 0.10983485565843476, "value": -0.49915162747832537}, "8": {"effect": 0.01836939321145259, "value": -0.6043712371565396}, "9": {"effect": 0.04021661102388119, "value": 0.08211948657954343}, "10": {"effect": 0.01943876248383325, "value": -0.3638140606034194}, "11": {"effect": 0.23890468116756614, "value": 1.0328275227206003}, "12": {"effect": 0.243882608487054, "value": 1.1154743607720066\}}}, {"outValue": 2.2415243956341366, "simIndex": 24.0, "features": {"0": {"effect": 0.19646509229017128, "value": 2.294015861127544}, "1": {"effect": 0.004858399598730023, "value": -0.6591584248259686}, "2": {"effect": -0.013684841357305189, "value": -0.732704100615764}, "3": {"effect": 0.20477499586012382, "value": -1.619321208598571}, "4": {"effect": 0.036672517153790274, "value": -0.2157477732953337}, "5": {"effect": 0.13597852052449622, "value": 0.888118319043175}, "6": {"effect": 0.23662574431221284, "value": 1.0600181720526933}, "7": {"effect": 0.0932431060342086, "value": -0.5777320388995251}, "8": {"effect": 0.08182305127169176, "value": 0.6347332415548327}, "9": {"effect": 0.04985045717586223, "value": 0.06525619421119508}, "10": {"effect": 0.055185576515289436, "value": 0.5527908132723806}, "11": {"effect": 0.12027369316275027, "value": 0.36624742662519266}, "12": {"effect": 0.24123914570883498, "value": 0.9998534391044667\}}}, {"outValue": 2.2256145032438863, "simIndex": 27.0, "features": {"0": {"effect": 0.12595754168821738, "value": 0.08098792685557879}, "1": {"effect": -0.013213074324385121, "value": -0.5421915448655018}, "2": {"effect": -0.03759155804015457, "value": -0.9931861735814543}, "3": {"effect": 0.18086961306493754, "value": -0.7447892171394022}, "4": {"effect": 0.050105009605207695, "value": 0.4885323142434561}, "5": {"effect": 0.15026154290957872, "value": 1.2162380050172374}, "6": {"effect": 0.2701949280504221, "value": 1.0805841756640449}, "7": {"effect": 0.10261543250414995, "value": -0.6563124503207244}, "8": {"effect": 0.06915242747190986, "value": 0.7196034113295839}, "9": {"effect": 0.04559844161968818, "value": -0.002196975262198321}, "10": {"effect": 0.026704540083549944, "value": -0.32016620946647656}, "11": {"effect": 0.2342897050967322, "value": 1.0606016933912423}, "12": {"effect": 0.2224510161307527, "value": 0.4713006543385697\}}}], "plot\_cmap": "RdBu", "ordering\_keys": null, "ordering\_keys\_time\_format": null}), document.getElementById('iAFDGX4JS0XF8VI81XS0P') );

You can also explore the effect of a particular feature across the testing dataset. For example, in the plot below, by selecting `flavanoids` from the top drop-down, the instances are ordered on the `x` axis in increasing value of the `flavanoids` feature.

Similarly, selecting `flavanoids effects` from the side drop-down will plot the shap value as opposed to the model output. The effect of this feature generally increases as its value increases and the large negative values of this feature reduce the decision score for classification as `0`. Note that the shap values are respresented with resepect to the base value for this class (0.798, as shown below).

```python
shap.force_plot(
    svm_explainer.expected_value[0], 
    svm_explanation.shap_values[0], 
    X_test_norm,  
    feature_names,
)
```

Visualization omitted, Javascript library not loaded!\
Have you run \`initjs()\` in this notebook? If this notebook was from another user you must also trust this notebook (File -> Trust notebook). If you are viewing this notebook on github the Javascript has been stripped for security. If you are using JupyterLab this error is because a JupyterLab extension has not yet been written.if (window.SHAP) SHAP.ReactDom.render( SHAP.React.createElement(SHAP.AdditiveForceArrayVisualizer, {"outNames": \["f(x)"], "baseValue": 0.7982189373832798, "link": "identity", "featureNames": \["alcohol", "malic\_acid", "ash", "alcalinity\_of\_ash", "magnesium", "total\_phenols", "flavanoids", "nonflavanoid\_phenols", "proanthocyanins", "color\_intensity", "hue", "od280/od315\_of\_diluted\_wines", "proline"], "explanations": \[{"outValue": 2.2407129384665727, "simIndex": 25.0, "features": {"0": {"effect": 0.1885327306588105, "value": 0.9388470699160594}, "1": {"effect": -0.011324960864740441, "value": -0.6321660679120147}, "2": {"effect": -0.0006325969519609398, "value": -0.4350103029406882}, "3": {"effect": 0.16715848382781984, "value": -0.9196956154312363}, "4": {"effect": 0.025515760199743887, "value": 1.263240410536125}, "5": {"effect": 0.12274853003536879, "value": 0.5599986330691132}, "6": {"effect": 0.24647320131344685, "value": 0.9777541576072868}, "7": {"effect": 0.10310885981103057, "value": -1.2063753302691222}, "8": {"effect": 0.05473180937163791, "value": 0.02366801917662191}, "9": {"effect": 0.040484508659951235, "value": 0.3392846951968553}, "10": {"effect": 0.04015582604829704, "value": -0.14557480491870503}, "11": {"effect": 0.21121980506529603, "value": 0.8522954133614274}, "12": {"effect": 0.2543220439085916, "value": 1.0494052626762695\}}}, {"outValue": -0.2037002841196922, "simIndex": 3.0, "features": {"0": {"effect": -0.023272616785283418, "value": -0.2422633444425755}, "1": {"effect": 0.006025084240132372, "value": 0.2675791625531141}, "2": {"effect": 0.00808934629617264, "value": 0.42085936537515367}, "3": {"effect": -0.07776116915958597, "value": 0.7127641019592126}, "4": {"effect": 0.00357884333349906, "value": 0.840672358012851}, "5": {"effect": -0.13425250212117934, "value": -1.277471608385635}, "6": {"effect": -0.1206711224715975, "value": -0.6058281204667861}, "7": {"effect": 0.014611878008093715, "value": -0.9706340960055232}, "8": {"effect": -0.03211210801480169, "value": -0.5873972032015893}, "9": {"effect": -0.12110536842623026, "value": 2.426117125779962}, "10": {"effect": -0.1487163776882114, "value": -2.06608025494419}, "11": {"effect": -0.24141022936859735, "value": -1.5501703496491042}, "12": {"effect": -0.13492287934538283, "value": -0.866598582100107\}}}, {"outValue": 0.8645918444738925, "simIndex": 16.0, "features": {"0": {"effect": -0.0928415471401518, "value": -0.7644384750011292}, "1": {"effect": -0.0395618878644623, "value": -1.1180284923631842}, "2": {"effect": -0.024347275917420252, "value": -0.7699158253251476}, "3": {"effect": 0.007608409784162745, "value": -0.16176788949995627}, "4": {"effect": -0.019531572575670175, "value": -0.9200278608341236}, "5": {"effect": 0.12802434757926107, "value": 2.036537219952393}, "6": {"effect": 0.16876362566692626, "value": 1.183414193720803}, "7": {"effect": 0.06291891883135742, "value": -1.3635361531115213}, "8": {"effect": 0.03486445108020694, "value": 0.44801886805037955}, "9": {"effect": 0.010075979675596203, "value": -0.2509305376953362}, "10": {"effect": 0.036775615496994124, "value": 1.16386072918958}, "11": {"effect": 0.06975440504142971, "value": 0.3940215972958347}, "12": {"effect": -0.27613056256761725, "value": -1.0648058763873183\}}}, {"outValue": 2.2287208065028232, "simIndex": 28.0, "features": {"0": {"effect": 0.19401206913507651, "value": 0.7150577282481081}, "1": {"effect": -0.004006408713765119, "value": -0.578181354084107}, "2": {"effect": 0.028839112074459772, "value": 0.34643591595638473}, "3": {"effect": 0.02429566023590879, "value": 0.27549810622962817}, "4": {"effect": 0.031233334800930268, "value": 1.122384393028367}, "5": {"effect": 0.14743306765207487, "value": 1.150614067822425}, "6": {"effect": 0.22723367335424793, "value": 0.8543581359391771}, "7": {"effect": 0.08882122530148417, "value": -1.2849557416903217}, "8": {"effect": 0.07628522825787809, "value": 1.4325128374374974}, "9": {"effect": 0.04443941957670927, "value": 0.5079176188803388}, "10": {"effect": 0.05424097421148616, "value": 0.11631230190295178}, "11": {"effect": 0.17807610528125828, "value": 0.6162149626609701}, "12": {"effect": 0.3395984079517944, "value": 1.2476125569634808\}}}, {"outValue": 0.9282143661190523, "simIndex": 18.0, "features": {"0": {"effect": 0.004659223413696317, "value": 0.08098792685557879}, "1": {"effect": -0.05120298834809209, "value": 3.083781733908967}, "2": {"effect": -0.016451572698267136, "value": -0.8815509994533018}, "3": {"effect": -0.06645057991179823, "value": 0.5670087700493511}, "4": {"effect": -0.03727731521925662, "value": -0.9904558695880025}, "5": {"effect": 0.10764501956828412, "value": 0.5928106016665196}, "6": {"effect": 0.19249935212570524, "value": 0.7206791124653918}, "7": {"effect": 0.08270121140042144, "value": -0.49915162747832537}, "8": {"effect": 0.06901115679300707, "value": 0.6856553434196833}, "9": {"effect": 0.005592369081099419, "value": -1.0308578097314467}, "10": {"effect": -0.02003663057298838, "value": -0.9748839765206193}, "11": {"effect": 0.15390219115417428, "value": 0.7134245600082174}, "12": {"effect": -0.2945960080502129, "value": -1.1969440725787925\}}}, {"outValue": 0.9309835734699559, "simIndex": 22.0, "features": {"0": {"effect": -0.19259812282770078, "value": -1.7714905125069098}, "1": {"effect": 0.020937420121953862, "value": -0.29026288033526587}, "2": {"effect": 0.12937876575067503, "value": 3.211738718578986}, "3": {"effect": -0.2461561392099729, "value": 2.6075834167874117}, "4": {"effect": 0.05788279248812883, "value": 1.333668419290004}, "5": {"effect": 0.08150393731667815, "value": 1.5115457223938937}, "6": {"effect": 0.15500604635165327, "value": 3.2194485512446116}, "7": {"effect": -0.0075753961989177, "value": 0.8367153666820686}, "8": {"effect": 0.04352970146380253, "value": 0.44801886805037955}, "9": {"effect": 0.002843418806417586, "value": 0.4025220415781617}, "10": {"effect": 0.021191884665406474, "value": -0.10192695378176214}, "11": {"effect": 0.14834595804320905, "value": 1.5327625947921557}, "12": {"effect": -0.08152563068465729, "value": -0.9161504056719099\}}}, {"outValue": 2.235753735241953, "simIndex": 30.0, "features": {"0": {"effect": 0.16313339656836345, "value": 1.3366947884368625}, "1": {"effect": 0.03291015900321992, "value": -0.2002883572887529}, "2": {"effect": 0.05232633693388711, "value": 0.9046117865971509}, "3": {"effect": 0.1072543222238247, "value": -0.569882818847568}, "4": {"effect": 0.029472511605386886, "value": 1.474524436797762}, "5": {"effect": 0.10637827122407761, "value": 0.5599986330691132}, "6": {"effect": 0.19002150775252857, "value": 0.5767170871859305}, "7": {"effect": 0.07313786089827612, "value": -0.42057121605712566}, "8": {"effect": 0.00897746073377892, "value": -0.6043712371565396}, "9": {"effect": 0.037477942404415376, "value": 0.002018847829888673}, "10": {"effect": 0.06860934568497057, "value": 0.46549511099849483}, "11": {"effect": 0.26562141625863456, "value": 1.380004656103625}, "12": {"effect": 0.3022142665673093, "value": 1.8257171653011808\}}}, {"outValue": -0.21994536362955164, "simIndex": 2.0, "features": {"0": {"effect": -0.059293363054332526, "value": -0.776871216204904}, "1": {"effect": 0.015258455723505315, "value": 1.3112836298926638}, "2": {"effect": -0.010818322135161096, "value": 0.04874211828130903}, "3": {"effect": -0.04898371059366452, "value": 0.4212534381394896}, "4": {"effect": -0.014618688052980056, "value": -0.8495998520802446}, "5": {"effect": -0.023796633997910932, "value": 0.06781910410801958}, "6": {"effect": -0.2036115381748681, "value": -1.0582801999165212}, "7": {"effect": -0.10299422110757273, "value": 1.0724566009456677}, "8": {"effect": -0.06168383429949542, "value": -0.9608259502104959}, "9": {"effect": -0.03871543260638832, "value": 1.0981328517725306}, "10": {"effect": -0.11436925650441077, "value": -1.7168974458486472}, "11": {"effect": -0.2361691788986081, "value": -1.3974124109605732}, "12": {"effect": -0.11836857731094408, "value": -0.7344603859086327\}}}, {"outValue": 0.8180729921712563, "simIndex": 20.0, "features": {"0": {"effect": -0.11340593362691923, "value": -0.9136313694464293}, "1": {"effect": -0.004181118441896406, "value": -0.578181354084107}, "2": {"effect": -0.042119681668744996, "value": -0.9187627241626855}, "3": {"effect": 0.041988516549153226, "value": -0.16176788949995627}, "4": {"effect": -0.038899762550892794, "value": -1.4130239221112764}, "5": {"effect": -0.08002685957875057, "value": -0.9985698753076823}, "6": {"effect": 0.08323171529873902, "value": 0.08313300051349212}, "7": {"effect": 0.046687823523416674, "value": 0.05091125247007225}, "8": {"effect": 0.05403435187656977, "value": 0.040642053131571855}, "9": {"effect": 0.02812030024602255, "value": -0.6935919623644801}, "10": {"effect": 0.04884446103590251, "value": 0.20360800417683753}, "11": {"effect": 0.17648554573523578, "value": 0.8106341573554642}, "12": {"effect": -0.18090530360985901, "value": -0.7674949349565013\}}}, {"outValue": -0.21126420469507567, "simIndex": 8.0, "features": {"0": {"effect": -0.13186553693920683, "value": -1.1249879699106058}, "1": {"effect": 0.002395824781642686, "value": -0.488206831037594}, "2": {"effect": -0.01780861379294385, "value": -0.17452822997499776}, "3": {"effect": 0.0020795280493594026, "value": -0.30752322140981775}, "4": {"effect": -0.03310321501688346, "value": -1.3425959133573975}, "5": {"effect": -0.15731332320272612, "value": -1.0805997968011976}, "6": {"effect": -0.16115116648031708, "value": -0.4618660951873251}, "7": {"effect": -0.1547866846506254, "value": 1.2296174237880673}, "8": {"effect": -0.007620537098026348, "value": 0.057616087086522175}, "9": {"effect": -0.005017691832630511, "value": -1.1151742715731885}, "10": {"effect": 0.0019419542240710075, "value": 0.5527908132723806}, "11": {"effect": -0.15534906242757707, "value": -0.4392035228234249}, "12": {"effect": -0.191884617692492, "value": -0.866598582100107\}}}, {"outValue": -0.20248608355760278, "simIndex": 1.0, "features": {"0": {"effect": 0.02985578794962984, "value": 0.466402904172605}, "1": {"effect": 0.017783990767940905, "value": 0.16860718720195003}, "2": {"effect": -0.007712605612348988, "value": -0.06289305584684354}, "3": {"effect": -0.028402264550335676, "value": 0.1297427743197667}, "4": {"effect": -0.010287595546214723, "value": -0.7791718433263656}, "5": {"effect": -0.2119874083517681, "value": -1.40871948277526}, "6": {"effect": -0.3912849188329206, "value": -1.490166275754905}, "7": {"effect": -0.017390726384482025, "value": 0.05091125247007225}, "8": {"effect": -0.15602334118779093, "value": -1.6397873084085082}, "9": {"effect": -0.008385758013899292, "value": 0.2338891178946782}, "10": {"effect": -0.0919438674218932, "value": -1.105827529931448}, "11": {"effect": -0.10964451710203882, "value": -0.16146181611700483}, "12": {"effect": -0.015281796654760926, "value": 0.12443788933594985\}}}, {"outValue": -0.19231747818856226, "simIndex": 5.0, "features": {"0": {"effect": 0.04037848081302553, "value": 1.1129054467689112}, "1": {"effect": -0.03133251735186793, "value": 2.3999753587554697}, "2": {"effect": -0.008305280411134985, "value": -0.5094337523594571}, "3": {"effect": -0.021702295105018976, "value": 0.1297427743197667}, "4": {"effect": -0.024567436542784538, "value": -1.4130239221112764}, "5": {"effect": -0.1906552910363627, "value": -2.0977708233207903}, "6": {"effect": -0.22248205065521148, "value": -1.6546943046457179}, "7": {"effect": -0.03258781424063162, "value": 0.2866524867336714}, "8": {"effect": -0.09362088059887375, "value": -1.5718911725887068}, "9": {"effect": -0.0016347380478345386, "value": -0.06121849855141736}, "10": {"effect": -0.07413012656356005, "value": -1.629601743574762}, "11": {"effect": -0.2070919346699085, "value": -1.744589544343598}, "12": {"effect": -0.12280453116167844, "value": -1.0813231509112526\}}}, {"outValue": 2.245650734878156, "simIndex": 35.0, "features": {"0": {"effect": 0.18044679811303432, "value": 1.5107531652897124}, "1": {"effect": 0.008115423795964194, "value": -0.551188997170153}, "2": {"effect": 0.01743346315350347, "value": 0.3092241912470011}, "3": {"effect": 0.14812310985283927, "value": -1.2695084120149036}, "4": {"effect": 0.03374807089733556, "value": 0.840672358012851}, "5": {"effect": 0.1463170806524816, "value": 1.6591995810822213}, "6": {"effect": 0.2506975831397784, "value": 1.4816212460854012}, "7": {"effect": 0.07464080217831764, "value": -0.18482998179352647}, "8": {"effect": 0.07202455786340123, "value": 0.6177592075998823}, "9": {"effect": 0.014253903286534308, "value": 0.718708773484693}, "10": {"effect": 0.06388312310774641, "value": 0.42184725986155197}, "11": {"effect": 0.12268071915914192, "value": 0.36624742662519266}, "12": {"effect": 0.3150671622947978, "value": 2.3377526755431433\}}}, {"outValue": 0.9880608686756972, "simIndex": 14.0, "features": {"0": {"effect": -0.18543850585970023, "value": -0.7644384750011292}, "1": {"effect": -0.06300070357901873, "value": -1.172013206191092}, "2": {"effect": -0.042064772503816183, "value": -0.9931861735814543}, "3": {"effect": 0.03738424224386161, "value": -0.30752322140981775}, "4": {"effect": -0.018442923398929334, "value": -0.8495998520802446}, "5": {"effect": 0.11671224047662151, "value": 2.069349188549799}, "6": {"effect": 0.23085531874629445, "value": 1.85180931108973}, "7": {"effect": 0.06887732301291913, "value": -0.9706340960055232}, "8": {"effect": 0.043780257618864726, "value": 0.5838111396899818}, "9": {"effect": 0.01698203617614108, "value": -0.22985142223490085}, "10": {"effect": 0.0356418895233272, "value": 0.37819940872460905}, "11": {"effect": 0.06390772072503445, "value": 0.25515074394262466}, "12": {"effect": -0.11535219188918222, "value": -0.2719766992384729\}}}, {"outValue": -0.20959276263357296, "simIndex": 6.0, "features": {"0": {"effect": 0.04240038852557332, "value": 0.7399232106556577}, "1": {"effect": 0.009860132861497173, "value": 0.18660209181125265}, "2": {"effect": 0.0061894102588709865, "value": 1.2023055842722266}, "3": {"effect": -0.1855873172610627, "value": 1.44154076150852}, "4": {"effect": 0.025256388498883175, "value": 0.34767629673569816}, "5": {"effect": -0.1466046529452244, "value": -1.1626297182947132}, "6": {"effect": -0.26607326295451494, "value": -1.1405442143619278}, "7": {"effect": -0.010523892262742862, "value": 0.20807207531247168}, "8": {"effect": -0.007670134217582891, "value": -0.11212425246298065}, "9": {"effect": -0.07660720456523606, "value": 1.523930984073326}, "10": {"effect": -0.08836770881749212, "value": -0.9312361253836764}, "11": {"effect": -0.2616214174333007, "value": -1.0918965335835114}, "12": {"effect": -0.04846242970452075, "value": 0.025334242192344168\}}}, {"outValue": 0.8066243349970195, "simIndex": 15.0, "features": {"0": {"effect": -0.12863643767206268, "value": -1.2244498995408064}, "1": {"effect": -0.031239922816578877, "value": -1.3069749907608614}, "2": {"effect": -0.0507507620931819, "value": -1.365303420675299}, "3": {"effect": 0.020977213976029696, "value": -0.16176788949995627}, "4": {"effect": -0.004286977145494031, "value": -0.9904558695880025}, "5": {"effect": 0.07079336833088426, "value": 0.26469091569245706}, "6": {"effect": 0.10905574926420036, "value": 0.3196420420440355}, "7": {"effect": 0.07295048062715592, "value": -0.49915162747832537}, "8": {"effect": 0.013150719956270068, "value": -0.29883862596743416}, "9": {"effect": 0.005396796421552913, "value": -1.0730160406523177}, "10": {"effect": 0.0692743789907174, "value": 1.862226347380665}, "11": {"effect": 0.1484454528802721, "value": 0.7411987306788594}, "12": {"effect": -0.2867246631060255, "value": -1.5338964728670519\}}}, {"outValue": 2.1782875102130603, "simIndex": 33.0, "features": {"0": {"effect": 0.1928737483932138, "value": 0.963712552323609}, "1": {"effect": 0.013144816776795798, "value": -0.7581304001771326}, "2": {"effect": 0.11614561371916265, "value": 1.2395173089816118}, "3": {"effect": 0.0503927387808627, "value": -0.016012557590094782}, "4": {"effect": -0.02165299236786289, "value": 2.2492325330904306}, "5": {"effect": 0.15257240782972548, "value": 1.1342080835237223}, "6": {"effect": 0.23914139185410999, "value": 0.8132261287164744}, "7": {"effect": -0.041523842766801655, "value": 1.0724566009456677}, "8": {"effect": 0.02278375218744788, "value": -0.4346308976070364}, "9": {"effect": 0.04211545060681576, "value": 0.14957265605293682}, "10": {"effect": 0.08243630546395297, "value": 1.2948042826004087}, "11": {"effect": 0.19044649811401926, "value": 0.5745537066550074}, "12": {"effect": 0.3411926842383388, "value": 1.6275098710139693\}}}, {"outValue": 2.2070613377751602, "simIndex": 34.0, "features": {"0": {"effect": 0.17174730820807027, "value": 1.4983204240859376}, "1": {"effect": 0.016568091796666073, "value": -0.7041456863492249}, "2": {"effect": 0.03317669580562044, "value": 0.42085936537515367}, "3": {"effect": 0.1325356043298357, "value": -0.8905445490492636}, "4": {"effect": 0.043443545338521794, "value": 0.5589603229973351}, "5": {"effect": 0.1518568125265063, "value": 1.7084175339783303}, "6": {"effect": 0.25846449227791823, "value": 2.0369033435918946}, "7": {"effect": 0.08097052632365198, "value": -0.3419908046359259}, "8": {"effect": 0.0766818798276293, "value": 0.4310448340954292}, "9": {"effect": -0.035698651882300814, "value": 1.540794276441674}, "10": {"effect": 0.07147874277975952, "value": 1.2075085803265229}, "11": {"effect": 0.11043012689516862, "value": 0.32458617061922934}, "12": {"effect": 0.2971872261648332, "value": 3.09754730364412\}}}, {"outValue": -0.21816234391938094, "simIndex": 10.0, "features": {"0": {"effect": -0.04683146843447994, "value": -0.4287544624992001}, "1": {"effect": -0.01693654673482281, "value": -0.9110870893562045}, "2": {"effect": -0.04310858440028531, "value": -1.29087997125653}, "3": {"effect": 0.023483588627853436, "value": -0.8030913499033465}, "4": {"effect": 0.01709418999610335, "value": -0.0044637470336967525}, "5": {"effect": -0.0694926373476572, "value": -0.39154845625566714}, "6": {"effect": -0.14045398642779972, "value": -0.5544131114384073}, "7": {"effect": -0.1292608828105336, "value": 1.308197835209267}, "8": {"effect": -0.14315153964818877, "value": -1.6737353763184089}, "9": {"effect": -0.009706215379610361, "value": 0.2971264642759846}, "10": {"effect": -0.00791546185526093, "value": 0.11631230190295178}, "11": {"effect": -0.2680401964709313, "value": -1.3835253256252522}, "12": {"effect": -0.18206154041704758, "value": -0.9657022292437126\}}}, {"outValue": 2.24576910825414, "simIndex": 31.0, "features": {"0": {"effect": 0.16683196313527582, "value": 1.050741740750035}, "1": {"effect": 0.0004938674712491875, "value": -0.6501609725213173}, "2": {"effect": 0.046315345960910914, "value": 0.8674000618877673}, "3": {"effect": 0.12397197440091845, "value": -0.6864870843754578}, "4": {"effect": 0.0354843500460178, "value": -0.4270317995569706}, "5": {"effect": 0.0865029845510118, "value": 0.3139088685885668}, "6": {"effect": 0.21155664933517038, "value": 1.0703011738583694}, "7": {"effect": 0.08524651486525259, "value": -1.1277949188479224}, "8": {"effect": 0.06714067516231448, "value": 1.1609282941582924}, "9": {"effect": 0.04354593665648632, "value": 0.2338891178946782}, "10": {"effect": 0.05384544058633667, "value": 1.2511564314634658}, "11": {"effect": 0.19151014496687824, "value": 1.0883758640618841}, "12": {"effect": 0.33510432373303756, "value": 1.726613518157575\}}}, {"outValue": 1.0134708305344364, "simIndex": 13.0, "features": {"0": {"effect": 0.016938202847722572, "value": 0.15558437407822773}, "1": {"effect": -0.05426956802345506, "value": -1.2259979200189997}, "2": {"effect": -0.17629471016401382, "value": -2.4816551619568323}, "3": {"effect": 0.13080055318377773, "value": -1.3278105447788482}, "4": {"effect": -0.07453201053608882, "value": -1.5538799396190344}, "5": {"effect": 0.10667099105613476, "value": 1.1834260364198312}, "6": {"effect": 0.18135101909042073, "value": 1.2656782081662095}, "7": {"effect": 0.0755610747352391, "value": -0.8134732731631238}, "8": {"effect": 0.07088838299241923, "value": 1.1439542602033415}, "9": {"effect": 0.026656421172834344, "value": 0.10741442513206577}, "10": {"effect": 0.04206595872605584, "value": 0.7273822178201521}, "11": {"effect": 0.11649626204349056, "value": 0.8245212426907855}, "12": {"effect": -0.2470806839733805, "value": -0.7939225741947962\}}}, {"outValue": 2.2172351608505725, "simIndex": 36.0, "features": {"0": {"effect": 0.11846090708721146, "value": 0.08098792685557879}, "1": {"effect": -0.010499892848397863, "value": -0.6501609725213173}, "2": {"effect": 0.04677775679640217, "value": 0.6813414383408442}, "3": {"effect": 0.12457572450369603, "value": -0.4532785533196792}, "4": {"effect": 0.03383123750003447, "value": -0.1453197645414547}, "5": {"effect": 0.1163100355086315, "value": 0.3139088685885668}, "6": {"effect": 0.2077846470923972, "value": 0.49445307274052447}, "7": {"effect": 0.10980830830002897, "value": -0.5777320388995251}, "8": {"effect": 0.032704317740697264, "value": -0.28186459201248387}, "9": {"effect": 0.038752773950253894, "value": -0.3352469995370779}, "10": {"effect": 0.07315826911608359, "value": 0.7273822178201521}, "11": {"effect": 0.08712183579541644, "value": -0.10591347477572144}, "12": {"effect": 0.44023030292483767, "value": 1.1980607333916782\}}}, {"outValue": 2.2115926683168072, "simIndex": 23.0, "features": {"0": {"effect": 0.15463255510677443, "value": 0.3172100097273049}, "1": {"effect": 0.04203020938440738, "value": 0.19559954411590372}, "2": {"effect": 0.17935475041852778, "value": 1.872116629041147}, "3": {"effect": 0.0015218572508230999, "value": 0.4212534381394896}, "4": {"effect": 0.10254502207567584, "value": 1.263240410536125}, "5": {"effect": 0.14712837612585572, "value": 0.888118319043175}, "6": {"effect": 0.24128105636582164, "value": 0.7618111196880951}, "7": {"effect": 0.04076213266397111, "value": 0.20807207531247168}, "8": {"effect": 0.07643381697137186, "value": 0.36314869827562796}, "9": {"effect": 0.048517437903720095, "value": -0.30573623789246823}, "10": {"effect": 0.06881368520940101, "value": 0.37819940872460905}, "11": {"effect": 0.2021100234703509, "value": 0.4773441093077607}, "12": {"effect": 0.1082428079868265, "value": -0.02421758137945867\}}}, {"outValue": 0.8660906029807309, "simIndex": 21.0, "features": {"0": {"effect": -0.09841203340241925, "value": -0.5903800981482772}, "1": {"effect": -0.004369568550616293, "value": -0.578181354084107}, "2": {"effect": -0.09107797398155183, "value": -1.439726870094068}, "3": {"effect": -0.04414905963641248, "value": 0.27549810622962817}, "4": {"effect": -0.02541172442207841, "value": -1.0608838783418815}, "5": {"effect": 0.028945835641744702, "value": -0.09624073887901091}, "6": {"effect": 0.03320958049405909, "value": -0.029980019348941556}, "7": {"effect": 0.05978825257971197, "value": -0.3419908046359259}, "8": {"effect": 0.014587980577403195, "value": -0.21396845619268257}, "9": {"effect": 0.010788978954194811, "value": -0.887519824600486}, "10": {"effect": 0.03134811257290891, "value": 0.37819940872460905}, "11": {"effect": 0.25165860443765675, "value": 1.3661175707683038}, "12": {"effect": -0.09903531966715001, "value": -0.2323352403810306\}}}, {"outValue": -0.19694698853401604, "simIndex": 11.0, "features": {"0": {"effect": -0.06942516947924804, "value": -0.8141694398162285}, "1": {"effect": -0.01908037157624093, "value": -1.145020849277138}, "2": {"effect": -0.02421067708501734, "value": -0.3233751288125356}, "3": {"effect": 0.045143138618560175, "value": -1.036299880959125}, "4": {"effect": 0.013664557089506202, "value": 0.06596426172018223}, "5": {"effect": -0.053979527797497595, "value": -0.3423305033595581}, "6": {"effect": -0.1869465818699544, "value": -0.8834691692200328}, "7": {"effect": -0.2235197723864749, "value": 2.0940019494212634}, "8": {"effect": -0.18003552987458937, "value": -2.0301900893723652}, "9": {"effect": -0.005715868839223648, "value": -0.7483976625616121}, "10": {"effect": 0.026227332012850046, "value": 1.2948042826004087}, "11": {"effect": -0.25384087305975256, "value": -1.2724286429426845}, "12": {"effect": -0.06344658167021344, "value": -0.20590760114273576\}}}, {"outValue": 0.8162144456146205, "simIndex": 17.0, "features": {"0": {"effect": -0.04933545741342765, "value": -0.5779473569445024}, "1": {"effect": 0.016698319875459833, "value": 0.05164030724148339}, "2": {"effect": -0.0264895436367506, "value": -0.732704100615764}, "3": {"effect": -0.03835573212676889, "value": 0.4212534381394896}, "4": {"effect": -0.0032668898032558458, "value": -0.8495998520802446}, "5": {"effect": 0.12905374161913047, "value": 0.4779687115755973}, "6": {"effect": 0.1249357923569909, "value": 0.32992504384971155}, "7": {"effect": 0.11008998309200718, "value": -0.8134732731631238}, "8": {"effect": -0.018534644510168397, "value": -0.6552933390213905}, "9": {"effect": 0.016805826499862148, "value": -1.2838071952566719}, "10": {"effect": -0.002662162349403585, "value": -0.23287050719259078}, "11": {"effect": 0.09561802115716056, "value": 0.26903782927794534}, "12": {"effect": -0.3365617465294954, "value": -1.3786340923420697\}}}, {"outValue": 0.8320429709184142, "simIndex": 19.0, "features": {"0": {"effect": -0.06978019572991377, "value": -0.689842027778478}, "1": {"effect": -0.015085845028032369, "value": -0.7581304001771326}, "2": {"effect": -0.014585744274321355, "value": -0.28616340410315033}, "3": {"effect": -0.06457155102895257, "value": 0.5670087700493511}, "4": {"effect": -0.02814440013689498, "value": -0.9904558695880025}, "5": {"effect": 0.133717831021637, "value": 0.789682413250957}, "6": {"effect": 0.2692589049307582, "value": 1.2348292027491818}, "7": {"effect": 0.024596764030648838, "value": 0.20807207531247168}, "8": {"effect": 0.04085621166622325, "value": 0.27827852850087637}, "9": {"effect": 0.018615463000825477, "value": -0.4659375153917776}, "10": {"effect": -0.06407982457705738, "value": -1.1494753810683909}, "11": {"effect": 0.10687226896240404, "value": 0.35236034128987137}, "12": {"effect": -0.30384584930219005, "value": -1.2894408099128245\}}}, {"outValue": -0.21043770396855765, "simIndex": 9.0, "features": {"0": {"effect": -0.11732338661418146, "value": -1.025526040280405}, "1": {"effect": 0.001777654795828587, "value": -0.6861507817399223}, "2": {"effect": -0.023149940268386626, "value": -0.2117399546843814}, "3": {"effect": -0.12594487483237016, "value": 0.9459726330149911}, "4": {"effect": -0.006912821866880525, "value": -0.7087438345724866}, "5": {"effect": -0.15525113337530128, "value": -0.7852920794245417}, "6": {"effect": -0.1441606550332174, "value": -0.26648906087948493}, "7": {"effect": -0.057623752980130005, "value": 0.5223937209972701}, "8": {"effect": -0.024252896372510768, "value": -0.07817618455308001}, "9": {"effect": 0.0023473996349462345, "value": -1.094095156112753}, "10": {"effect": 0.0637396629300212, "value": 1.6439870916959516}, "11": {"effect": -0.2097698270353106, "value": -0.45309060815874624}, "12": {"effect": -0.21213207033434456, "value": -0.8170467585283041\}}}, {"outValue": -0.145974237203648, "simIndex": 12.0, "features": {"0": {"effect": -0.24076003348664798, "value": -1.522835688431409}, "1": {"effect": -0.005676892358015051, "value": 0.2765766148577656}, "2": {"effect": 0.15409028173002998, "value": 2.0581752525880685}, "3": {"effect": -0.01679291548350209, "value": 0.1297427743197667}, "4": {"effect": 0.02466396386415437, "value": 0.2068202792279402}, "5": {"effect": -0.1723137294495174, "value": -0.834510032320651}, "6": {"effect": -0.06821667430057837, "value": 0.08313300051349212}, "7": {"effect": -0.2816827559240932, "value": 1.858260715157664}, "8": {"effect": -0.1550999068692377, "value": -0.9438519162555457}, "9": {"effect": 0.0023852499105419533, "value": -0.5249590386809968}, "10": {"effect": 0.0687091984074818, "value": 1.2075085803265229}, "11": {"effect": -0.13754956670267066, "value": -0.11980056011104213}, "12": {"effect": -0.11594939392487358, "value": -0.44705980919217625\}}}, {"outValue": -0.21304726662073414, "simIndex": 4.0, "features": {"0": {"effect": 0.04662671496721349, "value": 0.9885780347311587}, "1": {"effect": 0.0073432231092012135, "value": 0.3485562332949756}, "2": {"effect": -0.013577120725954739, "value": -0.2489516793937667}, "3": {"effect": -0.08491819361912867, "value": 0.7127641019592126}, "4": {"effect": 0.0014207099466232997, "value": -0.7087438345724866}, "5": {"effect": -0.16631403962423796, "value": -1.4907494042687752}, "6": {"effect": -0.24136813722544642, "value": -1.3050722432527408}, "7": {"effect": -0.03799228518950204, "value": 0.3652328981548707}, "8": {"effect": -0.06244108739891241, "value": -0.9777999841654462}, "9": {"effect": -0.08829134724454002, "value": 1.9117867085453377}, "10": {"effect": -0.07263353129891764, "value": -1.105827529931448}, "11": {"effect": -0.20720090186973072, "value": -1.2585415576073635}, "12": {"effect": -0.09192020783068133, "value": -0.4206321699538814\}}}, {"outValue": 2.2466290759364504, "simIndex": 32.0, "features": {"0": {"effect": 0.1273320167662504, "value": 0.5037011277839316}, "1": {"effect": 0.004203460823446914, "value": -0.5421915448655018}, "2": {"effect": 0.04993859768075537, "value": 0.9418235113065362}, "3": {"effect": 0.15660562934471245, "value": -1.0071488145771523}, "4": {"effect": 0.02804333785780755, "value": -0.4974598083108496}, "5": {"effect": 0.1338962417382299, "value": 0.970148240536691}, "6": {"effect": 0.2311988417248757, "value": 1.01888616482999}, "7": {"effect": 0.06981435082564635, "value": -0.18482998179352647}, "8": {"effect": 0.021568713037006804, "value": -0.26489055805753353}, "9": {"effect": 0.0440948119380572, "value": -0.10337672947228842}, "10": {"effect": 0.027877158147876724, "value": -0.14557480491870503}, "11": {"effect": 0.20908561095015765, "value": 0.8800695840320695}, "12": {"effect": 0.3447513677183478, "value": 1.4953716748224952\}}}, {"outValue": 2.244908024590343, "simIndex": 26.0, "features": {"0": {"effect": 0.2293979358075684, "value": 1.5356186476972642}, "1": {"effect": -0.005229480949911158, "value": -0.6051737109980608}, "2": {"effect": -0.0016776199207109155, "value": -0.2489516793937667}, "3": {"effect": 0.1544077478047301, "value": -0.9488466818132081}, "4": {"effect": 0.035163249983531486, "value": 1.263240410536125}, "5": {"effect": 0.15325207513850592, "value": 1.5443576909913}, "6": {"effect": 0.22464546511200134, "value": 1.0805841756640449}, "7": {"effect": 0.08815787964942534, "value": -0.8134732731631238}, "8": {"effect": 0.08258620063975008, "value": 0.7196034113295839}, "9": {"effect": 0.03422902334418443, "value": 0.5627233190774709}, "10": {"effect": 0.04666649189125671, "value": -0.058279102644819746}, "11": {"effect": 0.2037219274641704, "value": 1.0050533520499583}, "12": {"effect": 0.20136819124256133, "value": 0.7520943212454525\}}}, {"outValue": -0.19114650250775045, "simIndex": 7.0, "features": {"0": {"effect": -0.16054881218805028, "value": -1.1747189347257072}, "1": {"effect": -0.0018886234802961144, "value": 1.734163888211274}, "2": {"effect": -0.009312787657371369, "value": 0.04874211828130903}, "3": {"effect": -0.11997660088919271, "value": 0.7127641019592126}, "4": {"effect": -0.057407389435542355, "value": -1.4130239221112764}, "5": {"effect": -0.0698251642608857, "value": -0.26030058186604216}, "6": {"effect": -0.14022794142739176, "value": -0.20479105004543008}, "7": {"effect": -0.07525485639778451, "value": 0.4438133095760704}, "8": {"effect": -0.04766556688694623, "value": -0.4346308976070364}, "9": {"effect": 0.003239944758517632, "value": -1.0308578097314467}, "10": {"effect": -0.06834386805867054, "value": -0.712996869698962}, "11": {"effect": -0.10118428515943423, "value": -0.022590962763795422}, "12": {"effect": -0.140969488807982, "value": -0.5362530916214213\}}}, {"outValue": 2.233858671105843, "simIndex": 29.0, "features": {"0": {"effect": 0.19331599617679895, "value": 1.5231859064934894}, "1": {"effect": 0.03179824264741571, "value": 1.5002301282903407}, "2": {"effect": 0.022027785736191685, "value": 0.27201246653761585}, "3": {"effect": 0.09008386080541642, "value": -0.19091895588192898}, "4": {"effect": 0.05912637362266737, "value": 0.770244349258972}, "5": {"effect": 0.15498650830114835, "value": 0.970148240536691}, "6": {"effect": 0.21365405440070284, "value": 0.7206791124653918}, "7": {"effect": 0.10983485565843476, "value": -0.49915162747832537}, "8": {"effect": 0.01836939321145259, "value": -0.6043712371565396}, "9": {"effect": 0.04021661102388119, "value": 0.08211948657954343}, "10": {"effect": 0.01943876248383325, "value": -0.3638140606034194}, "11": {"effect": 0.23890468116756614, "value": 1.0328275227206003}, "12": {"effect": 0.243882608487054, "value": 1.1154743607720066\}}}, {"outValue": 2.2415243956341366, "simIndex": 24.0, "features": {"0": {"effect": 0.19646509229017128, "value": 2.294015861127544}, "1": {"effect": 0.004858399598730023, "value": -0.6591584248259686}, "2": {"effect": -0.013684841357305189, "value": -0.732704100615764}, "3": {"effect": 0.20477499586012382, "value": -1.619321208598571}, "4": {"effect": 0.036672517153790274, "value": -0.2157477732953337}, "5": {"effect": 0.13597852052449622, "value": 0.888118319043175}, "6": {"effect": 0.23662574431221284, "value": 1.0600181720526933}, "7": {"effect": 0.0932431060342086, "value": -0.5777320388995251}, "8": {"effect": 0.08182305127169176, "value": 0.6347332415548327}, "9": {"effect": 0.04985045717586223, "value": 0.06525619421119508}, "10": {"effect": 0.055185576515289436, "value": 0.5527908132723806}, "11": {"effect": 0.12027369316275027, "value": 0.36624742662519266}, "12": {"effect": 0.24123914570883498, "value": 0.9998534391044667\}}}, {"outValue": 2.2256145032438863, "simIndex": 27.0, "features": {"0": {"effect": 0.12595754168821738, "value": 0.08098792685557879}, "1": {"effect": -0.013213074324385121, "value": -0.5421915448655018}, "2": {"effect": -0.03759155804015457, "value": -0.9931861735814543}, "3": {"effect": 0.18086961306493754, "value": -0.7447892171394022}, "4": {"effect": 0.050105009605207695, "value": 0.4885323142434561}, "5": {"effect": 0.15026154290957872, "value": 1.2162380050172374}, "6": {"effect": 0.2701949280504221, "value": 1.0805841756640449}, "7": {"effect": 0.10261543250414995, "value": -0.6563124503207244}, "8": {"effect": 0.06915242747190986, "value": 0.7196034113295839}, "9": {"effect": 0.04559844161968818, "value": -0.002196975262198321}, "10": {"effect": 0.026704540083549944, "value": -0.32016620946647656}, "11": {"effect": 0.2342897050967322, "value": 1.0606016933912423}, "12": {"effect": 0.2224510161307527, "value": 0.4713006543385697\}}}], "plot\_cmap": "RdBu", "ordering\_keys": null, "ordering\_keys\_time\_format": null}), document.getElementById('i7EXVA5LHH96O7IOJD6KL') );

```python
print(svm_explainer.expected_value)
```

```
[0.79821894 1.41710253 0.69461514]
```

#### Summary plots

To visualise the impact of the features on the decision scores associated with class `0`, we can use a summary plot. In this plot, the features are sorted by the sum of their SHAP values magnitudes across all instances in `X_test_norm`. Therefore, the features with the highest impact on the decision score for class `class_idx` are displayed at the top of the plot.

```python
shap.summary_plot(svm_explanation.shap_values[0], X_test_norm, feature_names)
```

![png](../../.gitbook/assets/kernel_shap_wine_intro_65_0.png)

In this case, the `proline` and `flavanoids` have the most impact on the model output; as the values of the features increase, their impact also increases and the model is more likely to predict class `0`. On the other hand, high values of the `nonflavonoid_phenols` have a negative impact on the model output, potentially contributing to the classification of the particular wine in a different class. To see this, we do a summary plot with respect to `class_2`.

```python
shap.summary_plot(svm_explanation.shap_values[1], X_test_norm, feature_names)
```

![png](../../.gitbook/assets/kernel_shap_wine_intro_67_0.png)

We see that, indeed, a higher value of the `nonflavonoid_phenols` feature contributes to a sample being classified as class `1`, but that this effect is rather limited compared to features such as `proline` or `alcohol`.

To visualise the impact of the feature across all classes, that is, the importance of a particular feature for the model, we simply pass all the shap values to the `summary_plot` functions. We see, that, for example, the `color_intensity` feature is much more important for deciding whether an instance should be classified as `class_2` then in `class_0`.

```python
shap.summary_plot(svm_explanation.shap_values, X_test_norm, feature_names)
```

![png](../../.gitbook/assets/kernel_shap_wine_intro_70_0.png)

#### Dependence plots

Another way to visualise the model dependence on a particular feature is through a dependence plot. This plot shows the impact of the feature value on its importance for classification with respect to class `0`.

```python
feature = 'flavanoids'
shap.dependence_plot(
    feature, 
    svm_explanation.shap_values[0], 
    X_test_norm, 
    feature_names=feature_names,
    interaction_index='auto',
)
```

![png](../../.gitbook/assets/kernel_shap_wine_intro_73_0.png)

The colour of the individual instances is represented by the value of the feature `nonflavanoid_phenols`. By specifying `interaction_index=auto`, the `nonflavanoid_phenols` was estimated as a the feature with the strongest interaction with the `flavanoids_feature`; this interaction is approximate, and is estimate by computing the Pearson Correlation Coefficient between the shap values of the reference feature (`flavanoids` in this case) and the value of each feature in turn on bins along the feature value.

We see that, for class `0` wines, a higher value for `nonfavanoid_phenols` is generally associated with a low value in `flavanoids` and that they have a negative impact on the score for class `0` classification.

### Footnotes

[(a)](kernel_shap_wine_intro.md#f_1) The weights are applied to each point in a copy, so the number of weights should be the same as the number of samples in the data.

### References

[\[1\]](kernel_shap_wine_intro.md#source_1) Lundberg, S.M. and Lee, S.I., 2017. A unified approach to interpreting model predictions. In Advances in neural information processing systems (pp. 4765-4774).

[\[2\]](kernel_shap_wine_intro.md#source_2) Wikipedia entry on the Least-angle regression: [https://en.wikipedia.org/wiki/Least-angle\_regression](https://en.wikipedia.org/wiki/Least-angle_regression).
